!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){u.debug("Base URL is "+t);var e=t+"/version.json",n=new XMLHttpRequest;n.timeout=1e4,n.responseType="document",n.addEventListener("load",function(t){var e=JSON.parse(n.responseText);l=e.version,u.debug("current version: "+l)}),n.open("GET",e,!0),n.send();var i=u.createLoadingDocument("en"==d.default.getInstance().lan?"Loading...":"加载中..");navigationDocument.pushDocument(i),(0,h.default)()}function a(){u.debug("update version"),App.reload({when:"now"})}var l,s=n(1),u=r(s),c=n(2),d=i(c),p=n(64),h=i(p);n(34);App.onLaunch=function(t){var e=t.location,n=e.substr(0,e.lastIndexOf("/"));d.default.getInstance().baseURL=n,(n.match(/^http:\/\/localhost/)||n.match(/^http:\/\/127.0.0.1/))&&(d.default.getInstance().picURL=n),o(n)},d.default.getInstance().lan="zh",App.onWillEnterForeground=function(){u.debug("app will enter foreground 1");var t=new XMLHttpRequest;t.timeout=1e4,t.responseType="document",t.addEventListener("load",function(e){var n=JSON.parse(t.responseText),i=n.version;if(i!=l){var r=n.message;u.debug("find new version "+i+" current version: "+l),u.debug("What's new: "+r);var o='<?xml version="1.0" encoding="UTF-8" ?>\n                <document>\n                   <alertTemplate>\n                      <title>有可用更新</title>\n                      <description>从'+l+"更新至"+i+",更新日志:"+r+"</description>\n                      <button>\n                         <text>点击更新并重载</text>\n                      </button>\n                   </alertTemplate>\n                </document>",s=(new DOMParser).parseFromString(o,"application/xml");s.addEventListener("select",function(t){a()}),navigationDocument.pushDocument(s)}else u.debug("version on server is: "+i)});var e=d.default.getInstance().baseURL+"/version.json";t.open("GET",e,!0),t.send()},App.onWillEnterBackground=function(){void 0},App.forceReload=function(){void 0,App.reload({when:"now"})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=null;n=t.match(/^http/)?t:""+_.default.getInstance().baseURL+t;var i=new XMLHttpRequest;i.timeout=1e4,i.addEventListener("load",function(){e(i.responseText)},!1),i.addEventListener("timeout",function(){var t=l("请求超时","<![CDATA[拉取数据超时10s]]>");navigationDocument.pushDocument(t)},!1),i.addEventListener("error",function(t){var e=l("请求错误","<![CDATA[未能成功拉取数据]]>");navigationDocument.pushDocument(e)},!1),i.open("GET",n,!0),i.send()}function o(t,e,n){var i=new XMLHttpRequest;i.responseType="document",i.timeout=1e4,i.addEventListener("load",function(){n(i.responseText)},!1),i.addEventListener("timeout",function(){var e=l("请求超时","<![CDATA[未能成功拉取:"+t+"]]>");navigationDocument.pushDocument(e)},!1),i.addEventListener("error",function(e){var n=l("请求错误","<![CDATA[未能成功拉取:"+t+"]]>");navigationDocument.pushDocument(n)},!1),i.open("POST",t,!0),i.send(e)}function a(t){t=t||"加载中...";var e='<?xml version="1.0" encoding="UTF-8" ?>\n        <document>\n            <loadingTemplate>\n                <activityIndicator>\n                    <title>'+t+"</title>\n                </activityIndicator>\n            </loadingTemplate>\n        </document>\n    ";return(new DOMParser).parseFromString(e,"application/xml")}function l(t,e){var n='<?xml version="1.0" encoding="UTF-8" ?>\n        <document>\n            <alertTemplate>\n                <title>'+t+"</title>\n                <description>"+e+"</description>\n            </alertTemplate>\n        </document>\n    ";return(new DOMParser).parseFromString(n,"application/xml")}function s(t,e){var n='<?xml version="1.0" encoding="UTF-8" ?>\n        <document>\n            <descriptiveAlertTemplate>\n                <title>'+t+"</title>\n                <description>"+e+"</description>\n            </descriptiveAlertTemplate>\n        </document>\n    ";return(new DOMParser).parseFromString(n,"application/xml")}function u(){var t="Evaluate Scripts Error",e=["There was an error attempting to evaluate the external JavaScript files.","Please check your network connection and try again later."].join("\n\n");return l(t,e)}function c(t,e){var n=e.status?"Fetch Error "+e.status:"Fetch Error",i="Could not load document:\n"+t+"\n("+e.statusText+")";return l(n,i)}function d(t,e,n){return Array(e-String(t).length+1).join(n||"0")+t}function p(t){var e=parseInt(t),n=parseInt(e/60/60);e-=60*n*60;var i=parseInt(e/60);e-=60*i;var r=e;return n>0?""+d(n,2)+":"+d(i,2)+":"+d(r,2):""+d(i,2)+":"+d(r,2)}function h(t){v((new XMLSerializer).serializeToString(t))}function v(t){void 0}function m(t,e,n){var i=(new DOMParser).parseFromString(t(e),"application/xml");n(i)}function f(t){var e=new MediaItem("video",t),n=new Playlist;n.push(e);var i=new Player;i.playlist=n,i.play()}Object.defineProperty(e,"__esModule",{value:!0}),e.player=e.formTemplate=e.stackTemplate_shelf=e.likeHistoryStackTemplate=e.catalogTemplate=e.menuBarTemplate=e.searchTemplate=e.productTemplate=e.alertTemplate_buttons=e.stackTemplate=void 0,e.getHTTP=r,e.postHTTP=o,e.createLoadingDocument=a,e.createAlertDocument=l,e.createDescriptiveAlertDocument=s,e.createEvalErrorAlertDocument=u,e.createLoadErrorAlertDocument=c,e.padLeft=d,e.time2str=p,e.printDoc=h,e.debug=v,e.renderEjsTemplate=m,e.simplePlay=f;var g=n(2),_=i(g),y=n(3),b=i(y),k=n(4),x=i(k),w=n(5),T=i(w),D=n(6),S=i(D),C=n(7),A=i(C),I=n(8),E=i(I),B=n(9),L=i(B),M=n(10),N=i(M),j=n(11),O=i(j);e.stackTemplate=b.default,e.alertTemplate_buttons=x.default,e.productTemplate=T.default,e.searchTemplate=S.default,e.menuBarTemplate=A.default,e.catalogTemplate=E.default,e.likeHistoryStackTemplate=L.default,e.stackTemplate_shelf=N.default,e.formTemplate=O.default;var F=e.player=new Player;F.addEventListener("stateDidChange",function(t,e){"end"==t.state||"paused"==t.state?JSB.enableAutoSleep():JSB.disableAutoSleep()},{})},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){n(this,t),this.baseURL="",this.lan="",this.picURL="http://oixe7xabx.bkt.clouddn.com/lazycat",this.instance=null}return i(t,null,[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}();e.default=r},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){if(__p+='<?xml version="1.0" encoding="UTF-8"?>\n<!--\nCopyright (C) 2016 fuzhuo233@gmail.com\n-->\n<document>\n    <stackTemplate>\n        <banner>\n            <title id="title"><![CDATA['+(null==(__t=title)?"":__t)+"]]></title>\n            ","undefined"!=typeof subtitle&&(__p+='\n            <subtitle id="subtitle" style="font-size: 25px"><![CDATA['+(null==(__t=subtitle)?"":__t)+"]]></subtitle>\n            "),__p+='\n        </banner>\n        <collectionList>\n            <grid>\n                <section id="section">\n                  ',section){__p+="\n                  ";for(var i in section){var lockup=section[i];__p+='\n                  <lockup index="'+(null==(__t=i)?"":__t)+'" data="'+(null==(__t=lockup.data)?"":__t)+'" data1="'+(null==(__t=lockup.data1)?"":__t)+'">\n                    <img src="'+(null==(__t=lockup.img)?"":__t)+'" width="'+(null==(__t=lockup.width)?"":__t)+'" height="'+(null==(__t=lockup.height)?"":__t)+'" />\n                      <title><![CDATA['+(null==(__t=lockup.title)?"":__t)+"]]></title>\n                      ",lockup.subtitle&&(__p+="\n                      <subtitle><![CDATA["+(null==(__t=lockup.subtitle)?"":__t)+"]]></subtitle>\n                      "),__p+="\n                      <overlay>\n                        ",lockup.progress&&lockup.progress>.01&&(__p+='\n                        <progressBar value="'+(null==(__t=i.progress)?"":__t)+'" />\n                        '),__p+="\n                          ",lockup.overlay_title&&(__p+="\n                          <title><![CDATA["+(null==(__t=lockup.overlay_title)?"":__t)+"]]></title>\n                          "),__p+="\n                      </overlay>\n                  </lockup>\n                  "}__p+="\n                  "}__p+="\n                </section>\n            </grid>\n        </collectionList>\n    </stackTemplate>\n</document>\n"}return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<?xml version="1.0" encoding="UTF-8"?>\n<!--\nCopyright (C) 2016 fuzhuo233@gmail.com\n-->\n<document>\n  <alertTemplate>\n    <title>'+(null==(__t=title)?"":__t)+"</title>\n    ";for(var i in items){var button=items[i];__p+='\n    <button index="'+(null==(__t=i)?"":__t)+'" value="'+(null==(__t=button.value)?"":__t)+'">\n      <text>'+(null==(__t=button.title)?"":__t)+"</text>\n      ",button.selected&&(__p+='\n      <badge src="resource://button-checkmark" style="margin:0 -20 0 20;" />\n      '),__p+="\n    </button>\n    "}__p+="\n  </alertTemplate>\n</document>\n"}return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<?xml version="1.0" encoding="UTF-8" ?>\n<!--\nCopyright (C) 2016 fuzhuo233@gmail.com\n-->\n<document>\n  <head>\n    <style>\n      .showTextOnHighlight {\n      tv-text-highlight-style: show-on-highlight;\n      }\n      .badge {\n      tv-tint-color: rgb(255,255,255);\n      }\n      .9ColumnGrid {\n      tv-interitem-spacing: 51;\n      }\n    </style>\n  </head>\n  <productTemplate theme="dark">\n    <banner>\n      <infoList>\n        <info>\n          <header>\n            <title>类型</title>\n          </header>\n          <text>'+(null==(__t=VideoGenres)?"":__t)+"</text>\n        </info>\n        <info>\n          <header>\n            <title>导演</title>\n          </header>\n          <text>"+(null==(__t=Director)?"":__t)+"</text>\n        </info>\n        <info>\n          <header>\n            <title>演员</title>\n          </header>\n          ";for(var a in Starring){var actor=Starring[a];__p+="\n          <text>"+(null==(__t=actor)?"":__t)+"</text>\n          "}if(__p+="\n        </info>\n      </infoList>\n      <stack>\n        <title>"+(null==(__t=Name)?"":__t)+"</title>\n        <row>\n          ",ReleaseYear&&(__p+="\n          <text>"+(null==(__t=ReleaseYear)?"":__t)+"</text>\n          "),__p+="\n          ",Score&&(__p+="\n          <text>评分"+(null==(__t=Score)?"":__t)+"</text>\n          "),__p+="\n          ",tags){__p+="\n          ";for(var t in tags){var tag=tags[t];__p+="\n          <text>"+(null==(__t=tag)?"":__t)+"</text>\n          "}__p+="\n          "}__p+='\n          <badge src="resource://cc" class="badge" />\n        </row>\n        <description handlesOverflow="true"><![CDATA['+(null==(__t=Description)?"":__t)+"]]></description>\n        <row>\n          ",button1&&(__p+='\n          <buttonLockup id="button1">\n            <badge src="resource://button-preview" />\n            <title>'+(null==(__t=button1)?"":__t)+"</title>\n          </buttonLockup>\n          "),__p+="\n          ",button2&&(__p+='\n          <buttonLockup id="button2">\n            <badge src="resource://button-play" />\n            <title>'+(null==(__t=button2)?"":__t)+"</title>\n          </buttonLockup>\n          "),__p+="\n          ",button3&&(__p+='\n          <buttonLockup id="button3">\n            <badge src="'+(null==(__t=button3_img)?"":__t)+'" />\n            <title>'+(null==(__t=button3)?"":__t)+"</title>\n          </buttonLockup>\n          "),__p+='\n        </row>\n      </stack>\n      <heroImg src="'+(null==(__t=heroImg)?"":__t)+'" width="'+(null==(__t=heroImgWidth)?"":__t)+'" height="'+(null==(__t=heroImgWidth)?"":__t)+'" />\n    </banner>\n    <shelf class="9ColumnGrid">\n      <header>\n        <title>'+(null==(__t=ShelfName)?"":__t)+'</title>\n      </header>\n      <section id="section">\n        ';for(var i in videos){var item=videos[i];__p+='\n        <lockup index="'+(null==(__t=i)?"":__t)+'" data="'+(null==(__t=item.data)?"":__t)+'" data1="'+(null==(__t=item.data1)?"":__t)+'">\n          <img src="'+(null==(__t=item.img)?"":__t)+'" width="'+(null==(__t=item.width)?"":__t)+'" height="'+(null==(__t=item.height)?"":__t)+'" />\n          <title>'+(null==(__t=item.title)?"":__t)+"</title>\n          <overlay>\n          ",item.progress>1e-4&&(__p+='\n            <progressBar value="'+(null==(__t=item.progress)?"":__t)+'" />\n          '),__p+="\n          </overlay>\n        </lockup>\n        "}if(__p+="\n      </section>\n    </shelf>\n    ",recommendvideos.length>0){__p+='\n    <shelf class="9ColumnGrid">\n      <header>\n        <title>'+(null==(__t=recommendShelfName)?"":__t)+'</title>\n      </header>\n      <section id="section1">\n        ';for(var i in recommendvideos){var item=recommendvideos[i];__p+='\n        <lockup index="'+(null==(__t=i)?"":__t)+'" data="'+(null==(__t=item.data)?"":__t)+'">\n          <img src="'+(null==(__t=item.img)?"":__t)+'" width="'+(null==(__t=item.width)?"":__t)+'" height="'+(null==(__t=item.height)?"":__t)+'" />\n          <title>'+(null==(__t=item.title)?"":__t)+"</title>\n        </lockup>\n        "}__p+="\n      </section>\n    </shelf>\n    "}__p+="\n  </productTemplate>\n</document>\n"}return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" ?>\n<!--\nCopyright (C) 2016 fuzhuo233@gmail.com\n-->\n<document>\n  <head>\n    <style>\n      .overlay {\n        padding: 0;\n      }\n      .overlay_title {\n        background-color: rgba(0,0,0,0.6);\n        color: #FFFFFF;\n        text-align: center;\n        width: 300;\n      }\n    </style>\n  </head>\n  <searchTemplate>\n    <searchField>搜索</searchField>\n    <collectionList id="collectionList">\n      <grid>\n        <header>\n          <title id="title">关键字</title>\n        </header>\n        <section id="section">\n        </section>\n      </grid>\n    </collectionList>\n  </searchTemplate>\n</document>\n';return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<?xml version="1.0" encoding="UTF-8"?>\n<!--\nCopyright (C) 2016 fuzhuo233@gmail.com\n-->\n<document>\n  <menuBarTemplate>\n    <menuBar>\n      ';for(i in items)__p+='\n      <menuItem index="'+(null==(__t=i)?"":__t)+'">\n        <title><![CDATA['+(null==(__t=items[i].title)?"":__t)+"]]></title>\n      </menuItem>\n      ";__p+="\n    </menuBar>\n  </menuBarTemplate>\n</document>\n"}return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<?xml version="1.0" encoding="utf-8"?>\n<!--\nCopyright (C) 2016 fuzhuo233@gmail.com\n-->\n<document>\n    <head>\n        <style>\n            .overlay_title {\n                background-color: rgba(0,0,0,0.6);\n                color: #FFFFFF;\n                text-align: center;\n                tv-position: bottom;\n            }\n            .overlay {\n                padding: 0;\n            }\n        </style>\n    </head>\n    <catalogTemplate>\n        <banner>\n            <title>'+(null==(__t=title)?"":__t)+"</title>\n        </banner>\n        <list>\n            <section>\n                ";for(var v in listSection){var value=listSection[v];__p+="\n                <listItemLockup>\n                    <title><![CDATA["+(null==(__t=value.title)?"":__t)+"]]></title>\n                    <decorationLabel>"+(null==(__t=value.decoration)?"":__t)+"</decorationLabel>\n                    <relatedContent>\n                        <grid>\n                            <section>\n                                ";for(var i in value.section){var item=value.section[i];__p+='\n                                <lockup class="lockup" index="'+(null==(__t=i)?"":__t)+'" data="'+(null==(__t=item.data)?"":__t)+'" data1="'+(null==(__t=item.data1)?"":__t)+'">\n                                    <img src="'+(null==(__t=item.img)?"":__t)+'" width="'+(null==(__t=item.width)?"":__t)+'" height="'+(null==(__t=item.height)?"":__t)+'" />\n                                    <overlay class="overlay">\n                                        <title class="overlay_title"><![CDATA['+(null==(__t=item.overlay_title)?"":__t)+"]]></title>\n                                    </overlay>\n                                </lockup>\n                                "}__p+="\n                            </section>\n                        </grid>\n                    </relatedContent>\n                </listItemLockup>\n                "}__p+="\n            </section>\n        </list>\n    </catalogTemplate>\n</document>\n"}return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){if(__p+='<?xml version="1.0" encoding="UTF-8"?>\n<!--\nCopyright (C) 2016 fuzhuo233@gmail.com\n-->\n<document>\n    <head>\n        <style>\n            .banner {\n                text-align: left;\n            }\n            .banner_title {\n                font-size: 42;\n            }\n        </style>\n    </head>\n    <stackTemplate>\n        <banner>\n            <title id="title" class="title"><![CDATA['+(null==(__t=title)?"":__t)+']]></title>\n        </banner>\n        <collectionList>\n            <banner class="banner">\n                <title class="banner_title"><![CDATA['+(null==(__t=title_like)?"":__t)+']]></title>\n            </banner>\n            <grid>\n                <section id="section_like">\n                    ',section_like){__p+="\n                    ";for(var i in section_like){var lockup=section_like[i];__p+='\n                    <lockup index="'+(null==(__t=i)?"":__t)+'" section="section_like" data="'+(null==(__t=lockup.data)?"":__t)+'" data1="'+(null==(__t=lockup.data1)?"":__t)+'">\n                        <img src="'+(null==(__t=lockup.img)?"":__t)+'" width="'+(null==(__t=lockup.width)?"":__t)+'" height="'+(null==(__t=lockup.height)?"":__t)+'" />\n                        <title><![CDATA['+(null==(__t=lockup.title)?"":__t)+"]]></title>\n                        ",lockup.subtitle&&(__p+="\n                        <subtitle><![CDATA["+(null==(__t=lockup.subtitle)?"":__t)+"]]></subtitle>\n                        "),__p+="\n                        <overlay>\n                            ",lockup.progress&&lockup.progress>.01&&(__p+='\n                            <progressBar value="'+(null==(__t=i.progress)?"":__t)+'" />\n                            '),__p+="\n                            ",lockup.overlay_title&&(__p+="\n                            <title><![CDATA["+(null==(__t=lockup.overlay_title)?"":__t)+"]]></title>\n                            "),__p+="\n                        </overlay>\n                    </lockup>\n                    "}__p+="\n                    "}if(__p+='\n                </section>\n            </grid>\n            <banner class="banner">\n                <title class="banner_title"><![CDATA['+(null==(__t=title_history)?"":__t)+']]></title>\n            </banner>\n            <grid>\n                <section id="section_history">\n                    ',section_history){__p+="\n                    ";for(var i in section_history){var lockup=section_history[i];__p+='\n                    <lockup index="'+(null==(__t=i)?"":__t)+'" section="section_history" data="'+(null==(__t=lockup.data)?"":__t)+'" data1="'+(null==(__t=lockup.data1)?"":__t)+'">\n                        <img src="'+(null==(__t=lockup.img)?"":__t)+'" width="'+(null==(__t=lockup.width)?"":__t)+'" height="'+(null==(__t=lockup.height)?"":__t)+'" />\n                        <title><![CDATA['+(null==(__t=lockup.title)?"":__t)+"]]></title>\n                        ",lockup.subtitle&&(__p+="\n                        <subtitle><![CDATA["+(null==(__t=lockup.subtitle)?"":__t)+"]]></subtitle>\n                        "),__p+="\n                        <overlay>\n                            ",lockup.progress&&lockup.progress>.01&&(__p+='\n                            <progressBar value="'+(null==(__t=i.progress)?"":__t)+'" />\n                            '),__p+="\n                            ",lockup.overlay_title&&(__p+="\n                            <title><![CDATA["+(null==(__t=lockup.overlay_title)?"":__t)+"]]></title>\n                            "),__p+="\n                        </overlay>\n                    </lockup>\n                    "}__p+="\n                    "}__p+="\n                </section>\n            </grid>\n        </collectionList>\n    </stackTemplate>\n</document>\n"}return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<?xml version="1.0" encoding="UTF-8"?>\n<!--\nCopyright (C) 2016 fuzhuo233@gmail.com\n-->\n<document>\n  <head>\n    <style>\n      .shelf {\n        margin-top: 80px;\n      }\n    </style>\n  </head>\n  <stackTemplate>\n    <banner>\n      <title id="title"><![CDATA['+(null==(__t=title)?"":__t)+']]></title>\n    </banner>\n    <collectionList id="collectionList">\n      ';for(var s in shelfs){var shelf=shelfs[s];__p+='\n      <shelf class="shelf" id="shelf'+(null==(__t=s)?"":__t)+'">\n        <header>\n          <title>'+(null==(__t=shelf.title)?"":__t)+"</title>\n        </header>\n        <section>\n          ";for(var i in shelf.section){var lockup=shelf.section[i];__p+='\n          <lockup index="'+(null==(__t=i)?"":__t)+'" data="'+(null==(__t=lockup.data)?"":__t)+'" data1="'+(null==(__t=lockup.data1)?"":__t)+'" action="'+(null==(__t=lockup.action)?"":__t)+'">\n            <img style="'+(null==(__t=lockup.img_style)?"":__t)+'" src="'+(null==(__t=lockup.img)?"":__t)+'" width="'+(null==(__t=lockup.width)?"":__t)+'" height="'+(null==(__t=lockup.height)?"":__t)+'" />\n            <title><![CDATA['+(null==(__t=lockup.title)?"":__t)+"]]></title>\n            ",lockup.subtitle&&(__p+="\n            <subtitle><![CDATA["+(null==(__t=lockup.subtitle)?"":__t)+"]]></subtitle>\n            "),__p+="\n          </lockup>\n          "}__p+="\n        </section>\n      </shelf>\n      "}__p+="\n    </collectionList>\n  </stackTemplate>\n</document>\n"}return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<document>\n  <formTemplate>\n    <banner>\n      <description id="title">'+(null==(__t=title)?"":__t)+'</description>\n    </banner>\n    <textField></textField>\n    <footer>\n      <button index="submit">\n        <text>'+(null==(__t=button)?"":__t)+"</text>\n      </button>\n    </footer>\n  </formTemplate>\n</document>\n";return __p}},,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){var e=g.createLoadingDocument();navigationDocument.pushDocument(e);var n=B[t].ic,i=B[t].fstlvlId,r=B[t].fstlvlName;t>3&&(r+="(长按进入系列专题)");var o=40,l=new y.default(r,o,function(t,e){var r="http://s5.hunantv.com/v5/list/mobile?ic="+n+"&ty="+i+"&pn="+t;void 0,g.getHTTP(r,function(t){var n=JSON.parse(t).data,i=(n.totalHits,[]),r=!0,o=!1,a=void 0;try{for(var l,s=n.hitDocs[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var u=l.value,c=u.s_imgVerticalMpp,d=u.s_imgHorizonMpp;null!==c&&0!==c.length||(c=u.s_imgHorizonMpp),null!==d&&0!==d.length||(d=u.s_imgVerticalMpp);var p=u.subtitle;0!=u.vipInfo.length&&(p="VIP"),i.push({title:u.title,subtitle:p,img:d,width:440,height:246,data:u.clipId,data1:u.playPartId,data2:c})}}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}e(i)})},function(e,n,i,r){void 0,t<=3?a(n,r):h(n,i)},function(t,e,n,i){a(e,i)});l.getDoc(function(t){navigationDocument.replaceDocument(t,e)}),L[t]=l}function a(t,e){var n=g.createLoadingDocument();navigationDocument.pushDocument(n),j=new A.default(t,e,M,function(n,i,r){var o="http://mobile.api.hunantv.com/v8/video/info?clipId="+t+"&device=iPhone",a="http://mobile.api.hunantv.com/v8/video/list?clipId="+t+"&device=iPhone";void 0,void 0,g.getHTTP(o,function(t){g.getHTTP(a,function(o){var a=JSON.parse(t).data,l=JSON.parse(o).data.list;void 0;var s={title:a.title,tags:[],tags1:[],description:"",heroImg:e,heroImgWidth:0,heroImgHeight:0,ShelfName:"影片",videos:[],recommendShelfName:"相关视频",recommendvideos:[]},u=!0,c=!1,d=void 0;try{for(var p,h=l[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var v=p.value;s.videos.push({img:v.image,title:v.videoIndex+" "+v.title,data:v.clipId,data1:v.videoId,width:455,height:226,progress:0})}}catch(t){c=!0,d=t}finally{try{!u&&h.return&&h.return()}finally{if(c)throw d}}var m=!0,f=!1,g=void 0;try{for(var _,y=a.detail[Symbol.iterator]();!(m=(_=y.next()).done);m=!0){var b=_.value,k=null;if(k=b.match(/类型[:：] ?(.*)/),k&&s.tags1.push(k[1]),k=b.match(/地区[:：] ?(.*)/),k&&s.tags1.push(k[1]),k=b.match(/年份[:：] ?(.*)/),k&&s.tags1.push(k[1]),k=b.match(/导演[:：] ?(.*)/),k&&s.tags.push({title:"导演",items:[k[1]]}),k=b.match(/演员[:：] ?(.*)/)){var x=k[1].split(/ \/ /),w={title:"演员",items:[]},T=!0,D=!1,S=void 0;try{for(var C,A=x[Symbol.iterator]();!(T=(C=A.next()).done);T=!0){var I=C.value;w.items.push(I)}}catch(t){D=!0,S=t}finally{try{!T&&A.return&&A.return()}finally{if(D)throw S}}s.tags.push(w)}k=b.match(/简介[:：] ?(.*)/),k&&(s.description=k[1])}}catch(t){f=!0,g=t}finally{try{!m&&y.return&&y.return()}finally{if(f)throw g}}r(s)})})},function(t,e,n,i){void 0,m(e,n,i)}),j.getDoc(function(t){navigationDocument.replaceDocument(t,n)})}function l(){var t=["芒果台","收藏/纪录","搜索"];(0,x.showMenuBar)(t,s)}function s(t,e){0==t?p(e):1==t?M.getDoc(e,function(t,e){void 0,a(t,e)}):2==t&&d(e)}function u(t){var e=(t.getAttribute("index"),t.getAttribute("data")),n=t.getAttribute("data1");if(0!=e){var i=t.getElementsByTagName("img").item(0),r=i.getAttribute("src");a(e,r)}else h(e,n)}function c(t,e){var n="http://mobile.api.hunantv.com/v6/search/getResult?device=iPhone&name="+encodeURI(t);g.getHTTP(n,function(t){var n=JSON.parse(t).data.hitDocs,i=[],r=!0,o=!1,a=void 0;try{for(var l,s=n[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var u=l.value;"0"==u.clipId&&"0"==u.videoId||i.push({title:u.name,img:u.image,width:250,height:376,data:u.clipId,data1:u.videoId,data2:"mgtv"})}}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}O=i,e(i)})}function d(t){(0,w.getSearchDoc)(function(t){var e="http://mobile.api.hunantv.com/v6/search/recommend?appVersion=5.1.0&device=iPhone";g.getHTTP(e,function(e){var n=[],i=JSON.parse(e),r=!0,o=!1,a=void 0;try{for(var l,s=i.data[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var u=l.value;n.push(u.name)}}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}t(n)})},function(t){void 0;var e="http://mobile.api.hunantv.com/v6/search/getResult?device=iPhone&name="+encodeURI(t);g.getHTTP(e,function(e){var n=g.createLoadingDocument();navigationDocument.pushDocument(n);var i=JSON.parse(e).data.hitDocs,r={title:"搜索『"+t+"』结果",section:[]},o=!0,a=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var d=s.value;r.section.push({title:d.name,img:d.image,width:250,height:376,data:d.clipId,data1:d.videoId})}}catch(t){a=!0,l=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw l}}g.renderEjsTemplate(g.stackTemplate,r,function(t){t.addEventListener("select",function(t){var e=t.target;u(e)}),navigationDocument.replaceDocument(t,n)})})},function(e){t(e)})}function p(t){g.getHTTP(E,function(e){B=JSON.parse(e).data;var n={title:"芒果TV",section:[]},i=0,r=!0,a=!1,l=void 0;try{for(var s,u=B[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;n.section.push({title:c.fstlvlName,width:250,height:376,img:k.default.getInstance().picURL+"/icons/mgtv/"+i+".png"}),i++}}catch(t){a=!0,l=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw l}}g.renderEjsTemplate(g.stackTemplate,n,function(e){e.addEventListener("select",function(t){var e=t.target,n=e.getAttribute("index");null!=n&&o(n)}),t(e)})})}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=g.createLoadingDocument("尝试解码链接中...");navigationDocument.pushDocument(i);var r="http://www.mgtv.com/b/"+t+"/"+e+".html",o="http://mobile.api.hunantv.com/v6/video/getSource?appVersion=4.7.4&device=iPhone&guid=&mac=&osType=ios&osVersion=10.000000&seqId=&ticket=&videoId="+e;g.getHTTP(o,function(t){var e=JSON.parse(t),o=e.data.videoSources[0].url;if(e.data.ispayment){var a="http://jx.71ki.com/url1.php?xml="+r+"&type=auto&hd=yh&wap=0&siteuser=";return void g.getHTTP(a,function(t){void 0,setTimeout(function(){void 0,navigationDocument.removeDocument(i)},1e3);var e=t.match(/<video><file><!\[CDATA\[(.*)\]\]>/);void 0,v(e[1],n)})}var l="http://disp.titan.mgtv.com"+o.replace("&arrange=300","");g.getHTTP(l,function(t){var e=JSON.parse(t),r=e.info;setTimeout(function(){void 0,navigationDocument.removeDocument(i)},1e3),void 0,v(r,n)})})}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={m3u8:t,MovieName:"",artworkImageURL:"",description:""};e&&(n.MovieName=e.title,n.artworkImageURL=e.img,n.description=e.desc,n.clipId=e.clipId,n.videoId=e.videoId,n.resumeTime=e.resumeTime),N=new T.PLAY(n,function(t){})}function m(t,e,n){var i="http://www.mgtv.com/b/"+t+"/"+e+".html",r="http://mobile.api.hunantv.com/v6/video/getSource?appVersion=4.7.4&device=iPhone&guid=&mac=&osType=ios&osVersion=10.000000&seqId=&ticket=&videoId="+e;g.getHTTP(r,function(t){var e=JSON.parse(t),r=e.data.videoSources[0].url;if(e.data.ispayment)(0,I.getM3U8ByFullURL)(i,n);else{var o="http://disp.titan.mgtv.com"+r.replace("&arrange=300","");g.getHTTP(o,function(t){var e=JSON.parse(t),i=e.info;n(i)})}})}Object.defineProperty(e,"__esModule",{value:!0}),e.showMGTVHome=l,e.searchSelect=u,e.searchKeyWord=c;var f=n(1),g=r(f),_=n(14),y=i(_),b=n(2),k=i(b),x=n(15),w=n(16),T=n(17),D=n(18),S=i(D),C=n(20),A=i(C),I=n(22),E="http://s5.hunantv.com/v5/listconfig?platform=mobile",B=null,L=[],M=new S.default("mgtv"),N=null,j=null,O=null},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){
return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),l=i(a),s=function(){function t(e,n,i,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;r(this,t),this.title=e,this.currentPage=0,this.maxPage=0,this.totalNum=0,this.loading=!1,this.loadMoreCallback=i,this.selectCallback=o,this.holdSelectFunc=a,this.page_size=n}return o(t,[{key:"getDoc",value:function(t){var e=this,n={title:this.title,section:[]};l.renderEjsTemplate(l.stackTemplate,n,function(n){e.doc=n,n.addEventListener("select",function(t){var n=t.target,i=n.getAttribute("index"),r=n.getAttribute("data"),o=n.getAttribute("data1"),a=n.getAttribute("data2");e.selectCallback(i,r,o,a)}),n.addEventListener("holdselect",function(t){if(null!==e.holdSelectFunc){var n=t.target,i=n.getAttribute("index"),r=n.getAttribute("data"),o=n.getAttribute("data1"),a=n.getAttribute("data2");e.holdSelectFunc(i,r,o,a)}}),n.addEventListener("highlight",function(t){var n=t.target,i=n.getAttribute("index");e.totalNum-i<2*e.page_size&&e.loading===!1&&e.loadMore()}),e.loadMore(),t(n)})}},{key:"loadMore",value:function(){var t=this;this.loading||(this.currentPage++,void 0,this.loading=!0,this.loadMoreCallback(this.currentPage,function(e){var n=t.doc.getElementById("section"),i=!0,r=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var s=a.value,u=t.doc.createElement("lockup");u.setAttribute("index",t.totalNum),null!==s.data&&u.setAttribute("data",s.data),null!==s.data1&&u.setAttribute("data1",s.data1),null!==s.data2&&u.setAttribute("data2",s.data2);var c=t.doc.createElement("img");c.setAttribute("src",s.img),c.setAttribute("width",s.width),c.setAttribute("height",s.height);var d=t.doc.createElement("title");if(d.textContent=s.title,u.appendChild(c),u.appendChild(d),s.subtitle){var p=t.doc.createElement("subtitle");p.textContent=s.subtitle,u.appendChild(p)}var h=t.doc.createElement("overlay");if(h.setAttribute("style","padding: 0"),s.overlay_title){var v=t.doc.createElement("title");v.setAttribute("style","background-color: rgba(0,0,0,0.4); color: #FFFFFF; text-align: center; font-size: 22"),v.textContent=s.overlay_title,h.appendChild(v)}u.appendChild(h),n.appendChild(u),t.totalNum++}}catch(t){r=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}t.loading=!1}))}}]),t}();e.default=s},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r={items:[]},o=!0,l=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;r.items.push({title:d})}}catch(t){l=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(l)throw s}}var p=i;null==p&&(p=a.createLoadingDocument(),navigationDocument.pushDocument(p)),a.renderEjsTemplate(a.menuBarTemplate,r,function(t){return null!=n&&n(t),t.addEventListener("select",function(t){var n=t.target,i=n.getAttribute("index"),r=n.parentNode,o=r.getFeature("MenuBarDocument");if(!o.getDocument(t.target)){var l=a.createLoadingDocument();o.setDocument(l,t.target),e&&e(i,function(e){o.setDocument(e,t.target)})}}),navigationDocument.replaceDocument(t,p),t})}Object.defineProperty(e,"__esModule",{value:!0}),e.showMenuBar=r;var o=n(1),a=i(o)},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){var e=s+"openapi-wireless/keywords/recommend?"+u;l.getHTTP(e,function(e){var n=JSON.parse(e),i=[],r=!0,o=!1,a=void 0;try{for(var l,s=n.results[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var u=l.value;i.push(u.title)}}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}t(i)})}function o(t,e,n){var i=function(t,e){var n=t.getElementById("title");n.textContent=e.title;var i=t.getElementById("section"),r=!0,o=!1,a=void 0;try{for(var l,s=e.keywords[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var u=l.value,c=t.createElement("lockup");c.setAttribute("type","keyword");var d=t.createElement("img");d.setAttribute("src",""),d.setAttribute("width","300"),d.setAttribute("height","45");var p=t.createElement("overlay");p.setAttribute("class","overlay");var h=t.createElement("title");h.setAttribute("class","overlay_title"),h.textContent=u,c.appendChild(d),c.appendChild(p),p.appendChild(h),i.appendChild(c)}}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}},o=function(t){for(var e=t.getElementById("section");e.lastChild;)e.removeChild(e.lastChild)},a=function(e,n){o(e),0===n.length?(null==t&&(t=r),t(function(t){var n={title:"选择关键词/输入拼音首字母搜索",keywords:[]},r=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var u=l.value;n.keywords.push(u)}}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}i(e,n)})):!function(){var t=s+"openapi-wireless/keywords/suggest?"+u+"&keywords="+encodeURI(n),r={title:"选择联想词进行搜索",keywords:[]};r.keywords.push(""+n),l.getHTTP(t,function(t){var n=JSON.parse(t),o=!0,a=!1,l=void 0;try{for(var s,u=n.results[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;r.keywords.push(c.keyword)}}catch(t){a=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw l}}i(e,r)})}()};l.renderEjsTemplate(l.searchTemplate,null,function(t){t.addEventListener("select",function(t){var n=t.target,i=n.getAttribute("type");if(i&&"keyword"==i){var r=n.getElementsByTagName("title").item(0),o=r.textContent;e(o)}});var i=t.getElementsByTagName("searchField").item(0),r=i.getFeature("Keyboard");r.onTextChange=function(){var e=r.text;a(t,e)},n(t),a(t,"")})}Object.defineProperty(e,"__esModule",{value:!0}),e.getSearchDoc=o;var a=n(1),l=i(a),s="http://tv.api.3g.youku.com/",u="pid=0ce22bfd5ef5d2c5&guid=12d60728bd267e3e0b6ab4d124d6c5f0&ngdid=357e71ee78debf7340d29408b88c85c4&ver=2.6.0&operator=T-Mobile_310260&network=WIFI&launcher=0"},function(t,e){"use strict";function n(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=new MediaItem("video",t.m3u8);o.url=t.m3u8,o.artworkImageURL=t.img,o.title=t.MovieName,o.description=t.description;var a=null,l=null;if(t.subtitledata){a=i(t.subtitledata);var s=r("");l=s.getElementsByTagName("description").item(0)}t.resumeTime>0&&(o.resumeTime=t.resumeTime);var u=new Playlist;u.push(o);var c=new Player;c.stop(),c.playlist=u;var d=0,p=0,h={currTime:0,duration:0},v=0;c.addEventListener("timeDidChange",function(t,i){if(p=t.time,a){var r=t.time,o=!1;r<a[v].start_time&&(v=0);for(var s=v;s<a.length;s++){var u=a[s].start_time,m=a[s].end_time;if(r>=u-.5&&r<=m){o=!0,v=s,l.textContent=a[s].content;break}}o||(l.textContent="")}0===d&&(d=c.currentMediaItemDuration,n&&c.addEventListener("timeBoundaryDidCross",function(t,i){void 0;var r=t.boundary;Math.abs(r-(d-10))<.01?(h.currTime=p,h.duration=d,e(h),c.interactiveOverlayDocument=n(),c.interactiveOverlayDismissable=!1):c.pause()},[d-10,d-.5]))},{interval:1}),c.addEventListener("stateDidChange",function(t,n){if("end"==t.state||"paused"==t.state){if(p<6)return;h.currTime=p,h.duration=d,e(h)}},{}),c.play()}function i(t){var e=t.split("\n"),n=0,i=1,r=2,o=n,a=[],l=0,s=0,u=!0,c=!1,d=void 0;try{for(var p,h=e[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var v=p.value;if(o==n&&v.match(/[0-9]+/))a[s]={},a[s].index=v,o=i;else if(o==i){var m=v.split(" --> "),f=m[0],g=0,_=0,y=0,b=0,k=0,x=0;if(f.match(/,/)){var w=f.split(",");g=w[0].split(":"),_=60*parseFloat(g[0])*60+60*parseFloat(g[1])+parseFloat(g[2]),y=_+parseFloat(w[1])/1e3}else g=f.split(":"),_=60*parseFloat(g[0])*60+60*parseFloat(g[1])+parseFloat(g[2]),y=_;var T=m[1];if(T.match(/,/)){var D=T.split(",");x=D[0].split(":"),k=60*parseFloat(x[0])*60+60*parseFloat(x[1])+parseFloat(x[2]),b=k+parseFloat(D[1])/1e3}else x=T[0].split(":"),k=60*parseFloat(x[0])*60+60*parseFloat(x[1])+parseFloat(x[2]),b=k;a[s].timeline=v,a[s].start_time=y,a[s].end_time=b,o=r,a[s].content=""}else o==r&&(null===v.match(/[^\s]/)?(o=n,s++):a[s].content+=v);l++}}catch(t){c=!0,d=t}finally{try{!u&&h.return&&h.return()}finally{if(c)throw d}}return a}function r(t){var e='<?xml version="1.0" encoding="UTF-8" ?>\n    <document>\n        <head>\n            <style>\n            .alert{\n                tv-position: top;\n                text-align: center;\n                color: rgba(255,255,255,1);\n                background-color: rgba(0,0,0,0.5);\n                height: 300;\n            }\n            .header{\n                tv-position: bottom;\n            }\n            .description{\n                tv-text-style: subtitle;\n                font-size: 60;\n                background-color: rgba(30,30,30,0.0);\n                text-shadow: 0px 0px 12px #030303;\n                -webkit-text-stroke: 1.0px #000000;\n            }\n            .space{\n                background-color: rgba(30,30,30,0.0);\n                height: 40;\n            }\n            </style>\n        </head>\n        <divTemplate class="alert">\n            <header class="header">\n                <description class="description">subtitle descriptions</description>\n                <description class="space"> </description>\n            </header>\n        </divTemplate>\n    </document>';(new DOMParser).parseFromString(e,"application/xml")}t.exports.PLAY=n},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(19),l=n(1),s=i(l),u=function(){function t(e){r(this,t),this.name=e,this.like=new a.History(e+"-like"),this.history=new a.History(e+"-history"),this.doc=null}return o(t,[{key:"addLike",value:function(t,e){if(this.doc){var n=this.doc.getElementById("section_like"),i=this.doc.createElement("lockup");i.setAttribute("data",e.key1),i.setAttribute("data1",e.key2);var r=this.doc.createElement("img");r.setAttribute("src",e.img),r.setAttribute("width",270),r.setAttribute("height",380);var o=this.doc.createElement("title");o.textContent=e.title,i.appendChild(r),i.appendChild(o),n.appendChild(i)}this.like.updateKey(t,e)}},{key:"removeLike",value:function(t){if(this.doc)for(var e=this.doc.getElementById("section_like"),n=e.getElementsByTagName("lockup"),i=0;i<n.length;i++){var r=n.item(i),o=r.getAttribute("data"),a=r.getAttribute("data1"),l="";if(o&&(l+=o),a&&(l+=a),l==t){var s=r.parentNode;s.removeChild(r);break}}this.like.removeKey(t)}},{key:"updateHistory",value:function(t,e,n){var i=this.history.getValue(t);if(null!=i){var r=null,o=!0,a=!1,l=void 0;try{for(var s,u=i.videos[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;if(!(c.key1&&c.key1!=n.key1||c.key2&&c.key2!=n.key2)){r=c;break}}}catch(t){a=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw l}}null==r?i.videos.push(n):(r.currTime=n.currTime,r.duration=n.duration)}else if(this.history.updateKey(t,{title:e.title,img:e.img,key1:e.key1,key2:e.key2,videos:[{key1:n.key1,key2:n.key2,currTime:n.currTime,duration:n.duration}]}),this.doc){var d=this.doc.getElementById("section_history"),p=this.doc.createElement("lockup");p.setAttribute("data",e.key1),p.setAttribute("data1",e.key2);var h=this.doc.createElement("img");h.setAttribute("src",e.img),h.setAttribute("width",270),h.setAttribute("height",380);var v=this.doc.createElement("title");v.textContent=e.title,p.appendChild(h),p.appendChild(v),d.appendChild(p)}this.history.save()}},{key:"getDoc",value:function(t,e){var n=this,i={title:"收藏与历史(长按删除)",title_like:"收藏",title_history:"播放纪录",section_like:[],section_history:[]},r=!0,o=!1,a=void 0;try{for(var l,u=this.like.data[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value;i.section_like.push({title:c.value.title,width:250,height:376,img:c.value.img,data:c.value.key1,data1:c.value.key2})}}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}var d=!0,p=!1,h=void 0;try{for(var v,m=this.history.data[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var f=v.value;i.section_history.push({title:f.value.title,width:250,height:376,img:f.value.img,data:f.value.key1,data1:f.value.key2})}}catch(t){p=!0,h=t}finally{try{!d&&m.return&&m.return()}finally{if(p)throw h}}s.renderEjsTemplate(s.likeHistoryStackTemplate,i,function(i){n.doc=i,i.addEventListener("select",function(t){var n=t.target,i=n.getAttribute("data"),r=n.getAttribute("data1");e(i,r)}),i.addEventListener("holdselect",function(t){var e=t.target,i=e.getAttribute("data"),r=e.getAttribute("data1"),o="";i&&(o+=i),r&&(o+=r);var a=e.getAttribute("section"),l=e.parentNode;l.removeChild(e),"section_like"==a?n.like.removeKey(o):"section_history"==a&&n.history.removeKey(o)}),t(i)})}}]),t}();e.default=u},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.History=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),l=i(a);e.History=function(){function t(e){r(this,t),this.name=e,this.data=null,this.load(),this.doc=null}return o(t,[{key:"load",value:function(){var t=localStorage.getItem(this.name);"undefined"==typeof t?this.data=[]:(this.data=JSON.parse(t),"undefined"!=typeof JSB.setItem&&JSB.setItem(this.name,t)),this.dump()}},{key:"clear",value:function(){if(this.doc)for(var t=this.doc.getElementById("section");t.lastChild;)t.removeChild(t.lastChild);this.data=[],this.save()}},{key:"dump",value:function(){void 0}},{key:"save",value:function(){localStorage.setItem(this.name,JSON.stringify(this.data)),"undefined"!=typeof JSB.setItem&&JSB.setItem(this.name,JSON.stringify(this.data)),this.dump()}},{key:"removeKey",value:function(t){var e=this.getKeyIndex(t);if(e!=-1){if(this.doc)for(var n=this.doc.getElementsByTagName("lockup"),i=0;i<n.length;i++){var r=n.item(i),o=r.getAttribute("data"),a=r.getAttribute("data1"),l="";if(o&&(l+=o),a&&(l+=a),l==t){var s=r.parentNode;s.removeChild(r);break}}this.data.splice(e,1),this.save(),this.dump()}}},{key:"updateKey",value:function(t,e){var n=this.getKeyIndex(t);if(n==-1){if(this.data.push({key:t,value:e}),this.doc){var i=this.doc.getElementById("section"),r=this.doc.createElement("lockup");r.setAttribute("data",e.key1),r.setAttribute("data1",e.key2);var o=this.doc.createElement("img");o.setAttribute("src",e.img),o.setAttribute("width",270),o.setAttribute("height",380);var a=this.doc.createElement("title");a.textContent=e.title,r.appendChild(o),r.appendChild(a),i.appendChild(r)}}else this.data[n].value=e;this.save(),this.dump()}},{key:"getValue",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=this.data[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;if(a.key==t)return a.value}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}return null}},{key:"getKeyIndex",value:function(t){for(var e in this.data)if(this.data[e].key==t)return e;return-1}},{key:"getHistoryDoc",value:function(t,e,n){var i=this,r={title:t+"(长按删除)",section:[]},o=!0,a=!1,s=void 0;try{for(var u,c=this.data[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;r.section.push({title:d.value.title,width:250,height:376,img:d.value.img,data:d.value.key1,data1:d.value.key2})}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}l.renderEjsTemplate(l.stackTemplate,r,function(t){i.doc=t,t.addEventListener("select",function(t){var e=t.target,i=e.getAttribute("data"),r=e.getAttribute("data1");n(i,r)}),t.addEventListener("holdselect",function(t){var e=t.target,n=e.getAttribute("data");i.removeKey(n);var r=e.parentNode;r.removeChild(e)}),e(t)})}}]),t}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(n(19),n(1)),u=o(s),c=n(21),d=r(c),p=n(17),h=function(){function t(e,n,i,r,o){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;a(this,t),this.likeHistory=i,this.like=i.like,this.history=i.history,this.key1=e,this.key2=n,this.getDataCB=r,this.getM3U8CB=o,this.key="",this.doc=null,this.showRecommonedVideo=l,this.videoDatas=null,this.his=null,null!=this.key1&&(this.key+=this.key1.toString()),null!=this.key2&&(this.key+=this.key2.toString())}return l(t,[{key:"updateButtonProgress",value:function(t,e){var n=t.getElementsByTagName("overlay").item(0);if(e<0||null==this.his||null==this.his.videos)for(;n.lastObj;)n.removeChild(n.lastObj);else{var r=this.videoDatas.videos[e],o=-1,a=null,l=0,s=!0,u=!1,c=void 0;try{for(var d,p=this.his.videos[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var h=d.value;if(!(r.data&&r.data!=h.key1||r.data1&&r.data1!=h.key2)){o=i,a=h,l=1*parseFloat(h.currTime)/parseFloat(h.duration);break}}}catch(t){u=!0,c=t}finally{try{!s&&p.return&&p.return()}finally{if(u)throw c}}if(e>=0&&this.his&&parseFloat(l)>0){var v=n.getElementsByTagName("progressBar"),m=null;0==v.length?(m=this.doc.createElement("progressBar"),n.appendChild(m)):m=v.item(0),m.setAttribute("value",l)}else for(;n.lastObj;)n.removeChild(n.lastObj)}}},{key:"updateButtons",value:function(){var t=this.doc.getElementById("button1"),e=this.doc.getElementById("button2"),n=this.doc.getElementById("button4"),i=this.doc.getElementById("button5"),r=this.videoDatas;if(null!=t){var o=-1,a=0;if(null!=this.his)for(var l=r.videos.length-1;l>=0;l--){var s=r.videos[l],u=!0,c=!1,d=void 0;try{for(var p,h=this.his.videos[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var v=p.value;if(!(s.data&&s.data!=v.key1||s.data1&&s.data1!=v.key2)){o=l,a=(100*parseFloat(v.currTime)/parseFloat(v.duration)).toFixed(1);break}}}catch(t){c=!0,d=t}finally{try{!u&&h.return&&h.return()}finally{if(c)throw d}}if(o!=-1)break}o==-1&&(o=0),void 0;var m=t.getElementsByTagName("img").item(0),f=t.getElementsByTagName("title").item(0);o>=0?(m.setAttribute("src",this.videoDatas.videos[o].img),a>0?f.textContent=this.videoDatas.videos[o].title+" 已看"+a+"%":f.textContent=this.videoDatas.videos[o].title):(m.setAttribute("src",""),f.textContent="没有了")}if(null!=e){var g=-1;if(null!=this.his)for(var _=r.videos.length-1;_>=0;_--){var y=r.videos[_],b=!0,k=!1,x=void 0;try{for(var w,T=this.his.videos[Symbol.iterator]();!(b=(w=T.next()).done);b=!0){var D=w.value;if(!(y.data&&y.data!=D.key1||y.data1&&y.data1!=D.key2)){g=_+1,g>=r.videos.length-1&&(g=-2);break}}}catch(t){k=!0,x=t}finally{try{!b&&T.return&&T.return()}finally{if(k)throw x}}if(g!=-1)break}else g=1,g>=r.videos.length-1&&(g=-2);void 0;var S=e.getElementsByTagName("img").item(0),C=e.getElementsByTagName("title").item(0);g>=0?(S.setAttribute("src",this.videoDatas.videos[g].img),C.textContent=this.videoDatas.videos[g].title):(S.setAttribute("src",""),C.textContent="没有下集")}if(null!=n){var A=-1,I=0;if(null!=this.his)for(var E=0;E<=r.videos.length-1;E++){var B=r.videos[E],L=!0,M=!1,N=void 0;try{for(var j,O=this.his.videos[Symbol.iterator]();!(L=(j=O.next()).done);L=!0){var F=j.value;if(!(B.data&&B.data!=F.key1||B.data1&&B.data1!=F.key2)){A=E,I=(100*parseFloat(F.currTime)/parseFloat(F.duration)).toFixed(1);break}}}catch(t){M=!0,N=t}finally{try{!L&&O.return&&O.return()}finally{if(M)throw N}}if(A!=-1)break}A==-1&&(A=r.videos.length-1),void 0;var P=n.getElementsByTagName("img").item(0),H=n.getElementsByTagName("title").item(0);A>=0?(P.setAttribute("src",this.videoDatas.videos[A].img),I>0?H.textContent=this.videoDatas.videos[A].title+" 已看"+I+"%":H.textContent=this.videoDatas.videos[A].title):(P.setAttribute("src",""),H.textContent="没有了")}if(null!=i){var J=-1;if(null!=this.his)for(var U=0;U<=r.videos.length-1;U++){var z=r.videos[U],R=!0,G=!1,V=void 0;try{for(var K,W=this.his.videos[Symbol.iterator]();!(R=(K=W.next()).done);R=!0){var X=K.value;if(!(z.data&&z.data!=X.key1||z.data1&&z.data1!=X.key2)){J=U-1,J<0&&(J=-2);break}}}catch(t){G=!0,V=t}finally{try{!R&&W.return&&W.return()}finally{if(G)throw V}}if(J!=-1)break}else J=r.videos.length-2,J<0&&(J=-2);void 0;var q=i.getElementsByTagName("img").item(0),Y=i.getElementsByTagName("title").item(0);J>=0?(q.setAttribute("src",this.videoDatas.videos[J].img),Y.textContent=this.videoDatas.videos[J].title):(q.setAttribute("src",""),Y.textContent="没有下集")}}},{key:"getDoc",value:function(t){var e=this;this.getDataCB(this.key1,this.key2,function(n){if(e.videoDatas=n,n.button1="顺序播放",n.button2="顺序下集",n.button3="收藏",n.button4="逆序播放",n.button5="逆序下集",e.isLiked()?n.button3_img="resource://button-rated":n.button3_img="resource://button-rate",e.his=e.history.getValue(e.key),e.his){var i=!0,r=!1,o=void 0;try{for(var a,l=n.videos[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var s=a.value,c=!0,h=!1,v=void 0;try{for(var m,f=e.his.videos[Symbol.iterator]();!(c=(m=f.next()).done);c=!0){var g=m.value;if(!(s.data&&s.data!=g.key1||s.data1&&s.data1!=g.key2)){s.progress=1*g.currTime/g.duration,s.currTime=g.currTime,s.duration=g.duration;break}}}catch(t){h=!0,v=t}finally{try{!c&&f.return&&f.return()}finally{if(h)throw v}}}}catch(t){r=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}}n.videos.length<=1&&(n.button1=null,n.button2=null,n.button4=null,n.button5=null),u.renderEjsTemplate(d.default,n,function(i){e.doc=i,e.updateButtons(),i.addEventListener("select",function(t){var i=t.target;if("description"===i.tagName){var r=i.textContent,o=u.createDescriptiveAlertDocument("",r);return void navigationDocument.presentModal(o)}var a=i.getAttribute("id");if("button3"==a){void 0;var l=i.getElementsByTagName("badge").item(0);return void(e.isLiked()?(l.setAttribute("src","resource://button-rate"),e.removeLike()):(l.setAttribute("src","resource://button-rated"),e.addLike()))}var s=-1;if("button1"==a){if(void 0,null!=e.his)for(var c=n.videos.length-1;c>=0;c--){var d=n.videos[c],h=!0,v=!1,m=void 0;try{for(var f,g=e.his.videos[Symbol.iterator]();!(h=(f=g.next()).done);h=!0){var _=f.value;if(!(d.data&&d.data!=_.key1||d.data1&&d.data1!=_.key2)){s=c;break}}}catch(t){v=!0,m=t}finally{try{!h&&g.return&&g.return()}finally{if(v)throw m}}if(s!=-1)break}s==-1&&(s=0)}if("button2"==a)if(void 0,null!=e.his)for(var y=n.videos.length-1;y>=0;y--){var b=n.videos[y],k=!0,x=!1,w=void 0;try{for(var T,D=e.his.videos[Symbol.iterator]();!(k=(T=D.next()).done);k=!0){var S=T.value;if(!(b.data&&b.data!=S.key1||b.data1&&b.data1!=S.key2)){s=y+1,s>=n.videos.length-1&&(s=-2);break}}}catch(t){x=!0,w=t}finally{try{!k&&D.return&&D.return()}finally{if(x)throw w}}if(s!=-1)break}else s=1,s>=n.videos.length-1&&(s=-2);if("button4"==a){if(void 0,null!=e.his)for(var C=0;C<=n.videos.length-1;C++){var A=n.videos[C],I=!0,E=!1,B=void 0;try{for(var L,M=e.his.videos[Symbol.iterator]();!(I=(L=M.next()).done);I=!0){var N=L.value;if(!(A.data&&A.data!=N.key1||A.data1&&A.data1!=N.key2)){s=C;break}}}catch(t){E=!0,B=t}finally{try{!I&&M.return&&M.return()}finally{if(E)throw B}}if(s!=-1)break}s==-1&&(s=n.videos.length-1)}if("button5"==a)if(void 0,null!=e.his)for(var j=0;j<=n.videos.length-1;j++){var O=n.videos[j],F=!0,P=!1,H=void 0;try{for(var J,U=e.his.videos[Symbol.iterator]();!(F=(J=U.next()).done);F=!0){var z=J.value;if(!(O.data&&O.data!=z.key1||O.data1&&O.data1!=z.key2)){s=j-1,s<0&&(s=-2);break}}}catch(t){P=!0,H=t}finally{try{!F&&U.return&&U.return()}finally{if(P)throw H}}if(s!=-1)break}else s=n.videos.length-2,s<0&&(s=-2);if(s==-2){var R=u.createDescriptiveAlertDocument("","没有更新一集了");return void navigationDocument.presentModal(R)}var G=-1;if(G=s!=-1?s:i.getAttribute("index"),G!=-1){var V=i.getAttribute("type");if("recommendvideo"==V){var K=n.recommendvideos[G].data,W=n.recommendvideos[G].data1,X=n.recommendvideos[G].data2;return e.showRecommonedVideo&&X&&"serial"==X?void e.showRecommonedVideo(G,K,W):(void 0,void e.getM3U8CB(G,K,W,function(t){void 0;var e={img:n.recommendvideos[G].img,MovieName:n.recommendvideos[G].title,resumeTime:n.recommendvideos[G].currTime,description:n.description,m3u8:t};(0,p.PLAY)(e,function(t){})}))}e.playAtIndex(G)}}),t(i)})})}},{key:"createOverlayAtIndex",value:function(t){var e=this;if(this.videoDatas.videos.length<2)return null;var n='<?xml version="1.0" encoding="UTF-8" ?>\n            <document>\n                <stackTemplate>\n                    <background>\n                        <img style="tv-img-treatment: blurOverlay; padding: 720 0 0 0;" />\n                    </background>\n                    <banner style="height: 720;">\n                    </banner>\n                    <collectionList>\n                        <shelf>\n                            <section>'+this.videoDatas.videos.map(function(n,i){var r="",o=!0,a=!1,l=void 0;try{for(var s,u=e.his.videos[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;if(!(n.data&&n.data!=c.key1||n.data1&&n.data1!=c.key2)){var d=1*c.currTime/c.duration;r='<overlay>\n                                                    <progressBar value="'+d+'" />\n                                                    </overlay>'}}}catch(t){a=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw l}}return i==t?'<lockup autoHighlight="true" index="'+i+'">\n                                        <img src="'+n.img+'" width="'+n.width+'" height="'+n.height+'"/>\n                                        <title>'+n.title+"</title>\n                                            "+r+"\n                                        </lockup>":'<lockup index="'+i+'">\n                                        <img src="'+n.img+'" width="'+n.width+'" height="'+n.height+'"/>\n                                        <title>'+n.title+"</title>\n                                            "+r+"\n                                        </lockup>"}).join(" ")+"</section>\n                        </shelf>\n                    </collectionList>\n                </stackTemplate>\n            </document>",i=(new DOMParser).parseFromString(n,"application/xml");return i.addEventListener("select",function(n){var i=n.target,r=i.getAttribute("index");void 0,r!=t&&e.playAtIndex(r)}),i}},{key:"playAtIndex",value:function(t){var e=this,n=this.videoDatas,i=n.videos[t].data,r=n.videos[t].data1;n.videos[t].data2;this.getM3U8CB(t,i,r,function(o){void 0;var a={img:n.videos[t].img,MovieName:n.videos[t].title,resumeTime:n.videos[t].currTime,description:n.description,m3u8:o},l=e;(0,p.PLAY)(a,function(o){void 0,n.videos[t].currTime=o.currTime,e.updateHistory({key1:i,key2:r,currTime:o.currTime,duration:o.duration}),e.his=e.history.getValue(e.key)},function(){return l.createOverlayAtIndex(t)})})}},{key:"isLiked",value:function(){return void 0,!!this.like.getValue(this.key)}},{key:"addLike",value:function(){if(this.isLiked())return void void 0;var t={title:this.videoDatas.title,img:this.videoDatas.heroImg,key1:this.key1,key2:this.key2};this.likeHistory.addLike(this.key,t)}},{key:"removeLike",value:function(){return this.isLiked()?void this.likeHistory.removeLike(this.key):void void 0}},{key:"updateHistory",value:function(t){for(var e=this.doc.getElementsByTagName("lockup"),n=0;n<e.length;n++){var i=e.item(n),r=i.getAttribute("data"),o=i.getAttribute("data1");if(!(r&&r!=t.key1||o&&o!=t.key2)){var a=1*t.currTime/t.duration,l=i.getElementsByTagName("progressBar").item(0),s=i.getElementsByTagName("overlay").item(0);"undefined"==typeof l&&(l=this.doc.createElement("progressBar"),s.appendChild(l)),l.setAttribute("value",a);break}}void 0,this.likeHistory.updateHistory(this.key,{title:this.videoDatas.title,img:this.videoDatas.heroImg,key1:this.key1,key2:this.key2},t),this.updateButtons()}}]),t}();e.default=h},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<?xml version="1.0" encoding="UTF-8" ?>\n<!--\nCopyright (C) 2016 fuzhuo233@gmail.com\n-->\n<document>\n    <head>\n        <style>\n            .showTextOnHighlight {\n                tv-text-highlight-style: show-on-highlight;\n            }\n            .badge {\n                tv-tint-color: rgb(255,255,255);\n            }\n            .9ColumnGrid {\n                  tv-interitem-spacing: 51;\n            }\n            .grid {\n              padding-left: 30px;\n              padding-right: 30px;\n              padding-up: 30px;\n              padding-down: 30px;\n            }\n        </style>\n    </head>\n    <productTemplate theme="dark">\n        <banner>\n            <infoList>\n                ';for(var t in tags){var tag=tags[t];__p+="\n                <info>\n                    <header>\n                        <title>"+(null==(__t=tag.title)?"":__t)+"</title>\n                    </header>\n                    ";for(var i in tag.items){var item=tag.items[i];__p+="\n                    <text>"+(null==(__t=item)?"":__t)+"</text>\n                    "}__p+="\n                </info>\n                "}__p+="\n            </infoList>\n            <stack>\n                <title>"+(null==(__t=title)?"":__t)+"</title>\n                <row>\n                    ";for(var t in tags1){var tag=tags1[t];__p+="\n                    <text>"+(null==(__t=tag)?"":__t)+"</text>\n                    "}if(__p+='\n                    <badge src="resource://cc" class="badge" />\n                </row>\n                ',"undefined"!=typeof tags2&&tags2.length>0){__p+="\n                <row>\n                  ";for(var t in tags2){var tag=tags2[t];__p+="\n                  <text>"+(null==(__t=tag)?"":__t)+"</text>\n                  "}__p+="\n                </row>\n                "}__p+='\n                <description handlesOverflow="true"><![CDATA['+(null==(__t=description)?"":__t)+"]]></description>\n                <row>\n                    ",button1&&(__p+='\n                    <buttonLockup id="button1">\n                        <img src="resource://button-preview" width="240" height="180"/>\n                        <title>'+(null==(__t=button1)?"":__t)+"</title>\n                        <overlay>\n                        </overlay>\n                    </buttonLockup>\n                    "),__p+="\n                    ",button2&&(__p+='\n                    <buttonLockup id="button2">\n                        <img src="resource://button-play" width="240" height="180"/>\n                        <title>'+(null==(__t=button2)?"":__t)+"</title>\n                        <overlay>\n                        </overlay>\n                    </buttonLockup>\n                    "),
__p+="\n                    ",button4&&(__p+='\n                    <buttonLockup id="button4">\n                        <img src="resource://button-preview" width="240" height="180"/>\n                        <title>'+(null==(__t=button4)?"":__t)+"</title>\n                        <overlay>\n                        </overlay>\n                    </buttonLockup>\n                    "),__p+="\n                    ",button5&&(__p+='\n                    <buttonLockup id="button5">\n                        <img src="resource://button-play" width="240" height="180"/>\n                        <title>'+(null==(__t=button5)?"":__t)+"</title>\n                        <overlay>\n                        </overlay>\n                    </buttonLockup>\n                    "),__p+="\n                    ",button3&&(__p+='\n                    <buttonLockup id="button3">\n                        <badge src="'+(null==(__t=button3_img)?"":__t)+'"/>\n                        <title>'+(null==(__t=button3)?"":__t)+"</title>\n                    </buttonLockup>\n                    "),__p+='\n                </row>\n            </stack>\n            <heroImg src="'+(null==(__t=heroImg)?"":__t)+'" width="'+(null==(__t=heroImgWidth)?"":__t)+'" height="'+(null==(__t=heroImgWidth)?"":__t)+'" />\n        </banner>\n        ';var len=5;videos.length>0&&(len=parseInt(1920/(parseInt(videos[0].width)+40)));for(var c=0;c<videos.length/len;c++){__p+='\n        <shelf class="9ColumnGrid">\n          ',0==c&&(__p+="\n            <header>\n                <title>"+(null==(__t=ShelfName)?"":__t)+"</title>\n            </header>\n          "),__p+='\n            <section id="section-'+(null==(__t=c)?"":__t)+'">\n              ';for(var i=c*len;i<(c+1)*len&&i<videos.length;i++){var item=videos[i];__p+='\n                <lockup type="video" index="'+(null==(__t=i)?"":__t)+'" data="'+(null==(__t=item.data)?"":__t)+'" data1="'+(null==(__t=item.data1)?"":__t)+'" data2="'+(null==(__t=item.data2)?"":__t)+'">\n                    <img src="'+(null==(__t=item.img)?"":__t)+'" width="'+(null==(__t=item.width)?"":__t)+'" height="'+(null==(__t=item.height)?"":__t)+'" />\n                    <title><![CDATA['+(null==(__t=item.title)?"":__t)+"]]></title>\n                    <overlay>\n                        ",item.progress>1e-4&&(__p+='\n                        <progressBar value="'+(null==(__t=item.progress)?"":__t)+'" />\n                        '),__p+="\n                    </overlay>\n                </lockup>\n                "}__p+="\n            </section>\n        </shelf>\n        "}if(__p+="\n        ",recommendvideos.length>0){__p+="\n        ",len=parseInt(1920/(parseInt(recommendvideos[0].width)+40));for(var c=0;c<recommendvideos.length/len;c++){__p+='\n        <shelf class="9ColumnGrid">\n          ',0==c&&(__p+="\n            <header>\n                <title>"+(null==(__t=recommendShelfName)?"":__t)+"</title>\n            </header>\n          "),__p+='\n            <section id="section-'+(null==(__t=c)?"":__t)+'">\n              ';for(var i=c*len;i<(c+1)*len&&i<recommendvideos.length;i++){var item=recommendvideos[i];__p+='\n                <lockup type="recommendvideo" index="'+(null==(__t=i)?"":__t)+'" data="'+(null==(__t=item.data)?"":__t)+'" data1="'+(null==(__t=item.data1)?"":__t)+'" data2="'+(null==(__t=item.data2)?"":__t)+'">\n                    <img src="'+(null==(__t=item.img)?"":__t)+'" width="'+(null==(__t=item.width)?"":__t)+'" height="'+(null==(__t=item.height)?"":__t)+'" />\n                    <title><![CDATA['+(null==(__t=item.title)?"":__t)+"]]></title>\n                    <overlay>\n                        ",item.progress>1e-4&&(__p+='\n                        <progressBar value="'+(null==(__t=item.progress)?"":__t)+'" />\n                        '),__p+="\n                    </overlay>\n                </lockup>\n                "}__p+="\n            </section>\n        </shelf>\n        "}__p+="\n        "}__p+="\n    </productTemplate>\n</document>\n"}return __p}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){function n(){var t=d.createAlertDocument("","超时解析失败");navigationDocument.replaceDocument(t,o)}function i(){var t=d.createAlertDocument("","链接错误解析失败");navigationDocument.replaceDocument(t,o)}var r="http://www.vipjiexi.com/yun.php?url="+t,o=d.createLoadingDocument("获取播放地址中");navigationDocument.pushDocument(o);try{s(r,function(t){var r=t.match(/url *: *'(.*)',/)[1],a=t.match(/update *: *'(.*)',/)[1];void 0,void 0;var l="url="+r+"&up="+a,c="http://www.vipjiexi.com/api.php";u(c,l,function(t){var r=JSON.parse(t);if(void 0,r.url.match(/\.m3u8/)||r.ext&&"m3u8"==r.ext||r.ext&&"mp4"==r.ext)return e(decodeURIComponent(r.url)),void setTimeout(function(){navigationDocument.removeDocument(o)},800);var a="http://www.vipjiexi.com"+r.url;s(a,function(t){if(t.match(/<!\[CDATA/)){var n=t.match(/<!\[CDATA\[(http.*?)\]\]>/)[1];e(n)}else e("http://www.vipjiexi.com"+r.url);setTimeout(function(){navigationDocument.removeDocument(o)},800)},n,i)},n,i)},n,i)}catch(t){void 0;var a=d.createAlertDocument("","数据错误解析失败");navigationDocument.replaceDocument(a,o)}}function a(t,e){o(t,e)}function l(t,e,n){if(void 0,0!=e)a(t,n);else if(t.match(/http:\/\/v.youku.com/)){var i=t.match(/v_show\/id_(.*?).html/)[1],r="http://ilools.sinaapp.com/youkufull.php?vid="+i+"&qua=hd2";n(r)}}function s(t,e,n,i){var r=t;null===r.match(/^http/)&&(r=""+h.default.getInstance().baseURL+t);var o=new XMLHttpRequest;o.responseType="document",o.timeout=1e4,o.addEventListener("load",function(){e(o.responseText)},!1),o.addEventListener("timeout",function(){n()},!1),o.addEventListener("error",function(t){i()},!1),o.open("GET",r,!0),o.send()}function u(t,e,n,i,r){var o=new XMLHttpRequest;o.responseType="document",o.timeout=1e4,o.addEventListener("load",function(){n(o.responseText)},!1),o.addEventListener("timeout",function(){i()},!1),o.addEventListener("error",function(t){r()},!1),o.open("POST",t,!0),o.send(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.getM3U8ByFullURL=a,e.getCommonM3U8ByFullURL=l;var c=n(1),d=r(c),p=n(2),h=i(p)},,,,,,,,,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){var e=v.createLoadingDocument();navigationDocument.pushDocument(e);var n=66,i=!1,r=[],u=new f.default(t,n,function(e,o){var a=_+"/v2/blog/"+t+"/posts?api_key="+g+"&"+y+"&offset="+n*e+"&limit="+n;v.debug("url="+a),v.getHTTP(a,function(a){if(!i){var l=JSON.parse(a),s=l.response.total_posts;(n*(e+1)>=s||0===l.response.posts.length)&&(i=!0),void 0;var u=0,c=[],d=!0,p=!1,h=void 0;try{for(var v,m=l.response.posts[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var f=v.value;r.push(f);var g=null,_=null,y=null,b=null,k=null,x=null;if("video"==f.type){if(null===f.video)continue;if("tumblr"!=f.video_type)continue;g=f.thumbnail_url,_=f.video.sizes.original.url,y=f.reblogged_from_name,b="video",k="视频"}else"photo"==f.type?(g=f.photos[0].alt_sizes[0].url,_=n*(e-1)+u,y=f.reblogged_from_name,b="photo",k="图片"+f.photos.length+"张"):"text"==f.type&&(g="https://api.tumblr.com/v2/blog/"+t+".tumblr.com/avatar/512",_=n*(e-1)+u,y=f.reblogged_from_name,b="text",k="文字");f.reblogged_from_title&&(x="长按"+f.reblogged_from_name),c.push({title:f.reblogged_from_title,subtitle:x,overlay_title:k,img:g,width:250,height:376,data:_,data1:y,data2:b}),u++}}catch(t){p=!0,h=t}finally{try{!d&&m.return&&m.return()}finally{if(p)throw h}}o(c)}})},function(e,n,i,o){void 0,"video"==o?a(n):"photo"==o?l(r,t,e):"text"==o&&s(r,t,e)},function(t,e,n,i){void 0,o(n)});u.getDoc(function(t){navigationDocument.replaceDocument(t,e)})}function a(t){var e=new MediaItem("video",t),n=new Playlist;n.push(e);var i=new Player;i.playlist=n,i.play()}function l(t,e,n){v.debug("showpics: "+n+", uid: "+e);var i='<?xml version="1.0" encoding="UTF-8" ?>\n\t\t<document>\n\t\t   <head>\n\t\t\t  <style>\n\t\t\t\t * {\n\t\t\t\t\ttv-transition: push;\n\t\t\t\t }\n\t\t\t  </style>\n\t\t   </head>\n\t\t   <oneupTemplate mode="oneup caption">\n\t\t\t  <section>',r=t[n].photos;for(var o in r)i+='\n\t\t\t\t <lockup>\n\t\t\t\t\t<img src="'+r[o].original_size.url+'" />\n\t\t\t\t\t<title>'+(parseInt(o)+1)+"/"+r.length+"</title>\n\t\t\t\t </lockup>";i+="\n\t\t\t  </section>\n\t\t   </oneupTemplate>\n\t\t</document>",v.debug("text: "+i);var a=(new DOMParser).parseFromString(i,"application/xml");navigationDocument.pushDocument(a)}function s(t,e,n){v.debug("show text: "+n+" ,uid: "+e);var i=""+t[n].body,r=i.replace(/<[^>]+>/g,"");r=r.replace("<br>","\n"),r=r.decodeHtml();var o='<?xml version="1.0" encoding="UTF-8" ?>\n\t\t<document>\n\t\t  <descriptiveAlertTemplate>\n\t\t\t<title><![CDATA['+t[n].title+']]></title>\n\t\t\t<description showsScrollIndicator="true"><![CDATA['+r+"]]></description>\n\t\t  </descriptiveAlertTemplate>\n\t\t</document>";v.debug("text: "+o);var a=(new DOMParser).parseFromString(o,"application/xml");navigationDocument.pushDocument(a)}function u(){var t=v.createLoadingDocument();navigationDocument.pushDocument(t);var e=localStorage.getItem("like");v.debug("favStr: "+e),"undefined"!==e&&null!==e&&"undefined"!=typeof e||(e='{"data": []}'),v.debug("favStr: "+e),k=JSON.parse(e),T(function(e){x=e,navigationDocument.replaceDocument(e,t)})}function c(){var t='<?xml version="1.0" encoding="UTF-8" ?>\n        <document>\n            <formTemplate>\n            <banner>\n                <img src="Car_Movie_800X400.png" width="800" height="400"/>\n                <description><![CDATA[输入博客名如输入"guanbo"来加入tumblr官方博客]]></description>\n            </banner>\n            <textField id="blogid"></textField>\n            <footer>\n                <button>\n                    <text>确认</text>\n                </button>\n            </footer>\n            </formTemplate>\n        </document>',e=new DOMParser,n=e.parseFromString(t,"application/xml");n.addEventListener("select",function(){var t=n.getElementById("blogid"),e=t.getFeature("Keyboard"),i=e.text;d(i)}),w=n,navigationDocument.pushDocument(n)}function d(t){v.debug("tryaddItem: "+t);var e=!0,n=!1,i=void 0;try{for(var r,o=k.data[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;if(a==t){var l=v.createAlertDocument("错误",t+"已经存在!");return void navigationDocument.pushDocument(l)}}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}var s=v.createLoadingDocument("查询"+t+"信息中..");navigationDocument.pushDocument(s);var u=_+"/v2/blog/"+t+"/info?api_key="+g;v.getHTTP(u,function(e){k.data.push(t),localStorage.setItem("like",JSON.stringify(k));var n=v.createAlertDocument("成功","成功添加"+t);navigationDocument.replaceDocument(n,s),w&&navigationDocument.removeDocument(w),T(function(t){navigationDocument.replaceDocument(t,x),x=t})})}function p(t){v.debug("remove blogid: "+t);var e=0,n=-1,i=!0,r=!1,o=void 0;try{for(var a,l=k.data[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var s=a.value;if(s==t){n=e;break}e++}}catch(t){r=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}if(n!==-1){k.data.splice(n,1),localStorage.setItem("like",JSON.stringify(k));var u=v.createAlertDocument("成功","成功删除"+t);navigationDocument.pushDocument(u),T(function(t){navigationDocument.replaceDocument(t,x),x=t})}}Object.defineProperty(e,"__esModule",{value:!0}),e.showTumblrMainPage=u;var h=n(1),v=r(h),m=n(14),f=i(m),g="jrsCWX1XDuVxAFO4GkK147syAoN8BJZ5voz8tS80bPcj26Vc5Z",_="https://api.tumblr.com",y="reblog_info=True",b=function(){this.REGX_HTML_ENCODE=/"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]|[\u0100-\u2700]/g,this.REGX_HTML_DECODE=/&\w+;|&#(\d+);/g,this.REGX_TRIM=/(^\s*)|(\s*$)/g,this.HTML_DECODE={"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&quot;":'"',"©":""},this.encodeHtml=function(t){return t=void 0!==t?t:this.toString(),"string"!=typeof t?t:t.replace(this.REGX_HTML_ENCODE,function(t){var e=t.charCodeAt(0),n=["&#"];return e=32==e?160:e,n.push(e),n.push(";"),n.join("")})},this.decodeHtml=function(t){var e=this.HTML_DECODE;return t=void 0!==t?t:this.toString(),"string"!=typeof t?t:t.replace(this.REGX_HTML_DECODE,function(t,n){var i=e[t];return void 0===i&&(i=isNaN(n)?t:String.fromCharCode(160==n?32:n)),i})},this.trim=function(t){return t=void 0!==t?t:this.toString(),"string"!=typeof t?t:t.replace(this.REGX_TRIM,"")},this.hashCode=function(){var t=this.__hash__,e=void 0;if(void 0===t||0===t){t=0;for(var n=0,i=this.length;n<i;n++)e=this.charCodeAt(n),t=31*t+e,t&=t;t&=2147483647}return this.__hash__=t,this.__hash__}};b.call(String.prototype);var k=null,x=null,w=null,T=function(t){var e=k.data,n='<?xml version="1.0" encoding="UTF-8" ?>\n        <document>\n            <listTemplate>\n                <banner>\n                    <title>Tumblr</title>\n                </banner>\n                <list>\n                    <section>';for(var i in e)n+='\n                        <listItemLockup index="0" data="'+i+'">\n                            <title><![CDATA['+e[i]+']]></title>\n                            <relatedContent>\n                                <lockup>\n                                    <img src="https://api.tumblr.com/v2/blog/'+e[i]+'.tumblr.com/avatar/512" width="512" height="512" />\n                                    <title>'+e[i]+".tumblr.com</title>\n                                </lockup>\n                            </relatedContent>\n                        </listItemLockup>";n+='\n                        <listItemLockup index="1">\n                            <title>增加链接</title>\n                            <relatedContent>\n                                <lockup>\n                                    <img src="abc" width="512" height="512" />\n                                    <title>点击增加博客链接</title>\n                                    <subtitle>长按列表中项目进行删除</subtitle>\n                                </lockup>\n                            </relatedContent>\n                        </listItemLockup>\n                    </section>\n                </list>\n            </listTemplate>\n        </document>',v.debug("text: "+n);var r=(new DOMParser).parseFromString(n,"application/xml");r.addEventListener("select",function(t){var n=t.target,i=n.getAttribute("index");if(0==i){var r=n.getAttribute("data");o(e[r])}else c()}),r.addEventListener("holdselect",function(t){var n=t.target,i=n.getAttribute("index");if(0==i){var r=n.getAttribute("data");p(e[r])}}),t(r)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){var n=60,i=!1,r=new _.default(C[t],n,function(e,r){if(!i){var o=S[t],a=T+"layout/smarttv/item_list?"+D+"&cid="+o+"&pz="+n+"&pg="+e+"&filter=";h.debug("url:"+a),h.getHTTP(a,function(t){var e=JSON.parse(t),n=[],i=!0,a=!1,l=void 0;try{for(var s,u=e.results[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n.push({title:c.showname,subtitle:"",overlay_title:c.paid?"VIP":null,img:c.show_vthumburl_hd,width:250,height:376,progress:0,data:c.showid,data1:o,data2:null})}}catch(t){a=!0,l=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw l}}r(n)})}},function(t,e,n,i){a(e)},function(t,e,n,i){void 0});r.getDoc(function(t){e(t)}),A[t]=r}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=h.createLoadingDocument();navigationDocument.pushDocument(n),void 0,E=new k.default(t,e,I,function(t,e,n){void 0;var i=T+"layout/smarttv/play/detail?"+D+"&id="+t,r=T+"layout/smarttv/shows/"+t+"/series?"+D;h.debug("url: "+i),h.debug("serial url: "+r),h.getHTTP(i,function(t){h.getHTTP(r,function(e){var i=JSON.parse(t).detail,r=JSON.parse(e),o={title:i.title,tags:[],tags1:[],description:i.desc,heroImg:i.img,heroImgWidth:0,heroImgHeight:0,ShelfName:i.stripe_bottom,videos:[],recommendShelfName:"相关视频",recommendvideos:[]},a=null;if(a={title:"导演",items:[]},i.director){var l=!0,s=!1,u=void 0;try{for(var c,d=i.director[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var p=c.value;a.items.push(p)}}catch(t){s=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(s)throw u}}}if(o.tags.push(a),a={title:"演员",items:[]},i.performer){var h=!0,v=!1,m=void 0;try{for(var f,g=i.performer[Symbol.iterator]();!(h=(f=g.next()).done);h=!0){var _=f.value;a.items.push(_)}}catch(t){v=!0,m=t}finally{try{!h&&g.return&&g.return()}finally{if(v)throw m}}}o.tags.push(a);var y=!0,b=!1,k=void 0;try{for(var x,w=i.area[Symbol.iterator]();!(y=(x=w.next()).done);y=!0){var T=x.value;o.tags1.push(T)}}catch(t){b=!0,k=t}finally{try{!y&&w.return&&w.return()}finally{if(b)throw k}}o.tags1.push(i.cats);var D=!0,S=!1,C=void 0;try{for(var A,I=i.genre[Symbol.iterator]();!(D=(A=I.next()).done);D=!0){var E=A.value;o.tags1.push(E)}}catch(t){S=!0,C=t}finally{try{!D&&I.return&&I.return()}finally{if(S)throw C}}o.tags1.push(i.show_videotype),i.paid&&o.tags1.push("VIP"),o.tags1.push("豆瓣:"+i.douban_rating);var B=!1,L=!0,M=!1,N=void 0;try{for(var j,O=r.results[Symbol.iterator]();!(L=(j=O.next()).done);L=!0){var F=j.value;if(F.videoid==i.videoid){B=!0;break}}}catch(t){M=!0,N=t}finally{try{!L&&O.return&&O.return()}finally{if(M)throw N}}if(B){var P=!0,H=!1,J=void 0;try{for(var U,z=r.results[Symbol.iterator]();!(P=(U=z.next()).done);P=!0){var R=U.value,G="";G+=R.video_stage?R.video_stage+" ":R.title,o.videos.push({title:G,img:R.img,width:400,height:224,data:R.videoid,data1:i.paid})}}catch(t){H=!0,J=t}finally{try{!P&&z.return&&z.return()}finally{if(H)throw J}}}else{o.videos.push({title:i.title,img:i.img,width:400,height:224,data:i.videoid,data1:i.paid});var V=!0,K=!1,W=void 0;try{for(var X,q=r.results[Symbol.iterator]();!(V=(X=q.next()).done);V=!0){var Y=X.value,Z="";Y.video_stage&&(Z+=Y.video_stage+" "),Z+=Y.title,o.recommendvideos.push({title:Z,img:Y.img,width:400,height:224,data:Y.videoid,data1:i.paid})}}catch(t){K=!0,W=t}finally{try{!V&&q.return&&q.return()}finally{if(K)throw W}}}n(o)})})},function(t,e,n,i){void 0;var r="http://v.youku.com/v_show/id_"+e+".html";return void(0,w.getCommonM3U8ByFullURL)(r,n,i)}),E.getDoc(function(t){navigationDocument.replaceDocument(t,n)})}function l(t){var e=t.getAttribute("index"),n=t.getAttribute("data"),i=t.getAttribute("data1");if(0==i)a(n);else if(1==i){var r="http://ilools.sinaapp.com/youkufull.php?vid="+n+"&qua=hd2",o=datas.section[e];(0,x.PLAY)({img:o.img,MovieName:o.title,m3u8:r,description:o.subtitle},function(t){})}}function s(t,e){var n=T+"layout/smarttv/showsearch?copyright_status=1&video_type=1&keyword="+encodeURI(t)+"&"+D;h.getHTTP(n,function(t){var n=JSON.parse(t).results,i=[],r=!0,o=!1,a=void 0;try{for(var l,s=n[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var u=l.value;i.push({title:u.showname,subtitle:u.showcategory,img:u.show_vthumburl_hd,width:250,height:376,data:u.showid,data1:0,data2:"youku"})}}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}e(i)})}function u(t){(0,y.getSearchDoc)(null,function(t){void 0,void 0;var e=T+"layout/smarttv/showsearch?copyright_status=1&video_type=1&keyword="+encodeURI(t)+"&"+D,n=T+"openapi-wireless/videos/search/"+encodeURI(t)+"?"+D+"&pg=1&pz=200";h.getHTTP(e,function(e){h.getHTTP(n,function(n){var i=h.createLoadingDocument();navigationDocument.pushDocument(i);var r=JSON.parse(e).results,o=JSON.parse(n).results,a={title:"搜索『"+t+"』结果",section:[]},s=!0,u=!1,c=void 0;try{for(var d,p=r[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var v=d.value;a.section.push({title:v.showname,subtitle:v.showcategory,img:v.show_vthumburl_hd,width:250,height:376,data:v.showid,data1:0})}}catch(t){u=!0,c=t}finally{try{!s&&p.return&&p.return()}finally{if(u)throw c}}var m=!0,f=!1,g=void 0;try{for(var _,y=o[Symbol.iterator]();!(m=(_=y.next()).done);m=!0){var b=_.value;a.section.push({title:b.title,subtitle:b.username,img:b.img_hd||b.img,width:250,height:376,data:b.videoid,data1:1})}}catch(t){f=!0,g=t}finally{try{!m&&y.return&&y.return()}finally{if(f)throw g}}h.renderEjsTemplate(h.stackTemplate,a,function(t){t.addEventListener("select",function(t){var e=t.target;l(e)}),navigationDocument.replaceDocument(t,i)})})})},function(e){t(e)})}function c(t,e){t<=4?o(t,e):5==t?I.getDoc(e,function(t,e){void 0,a(t)}):6==t&&u(e)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=["电影","电视剧","动漫","综艺","记录片","收藏/历史","搜索"];(0,v.showMenuBar)(e,c,null,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.searchSelect=l,e.searchKeyWord=s,e.showYKHome=d;var p=n(1),h=r(p),v=n(15),m=n(18),f=i(m),g=n(14),_=i(g),y=n(16),b=n(20),k=i(b),x=n(17),w=n(22),T="http://tv.api.3g.youku.com/",D="pid=0ce22bfd5ef5d2c5&guid=12d60728bd267e3e0b6ab4d124d6c5f0&ngdid=357e71ee78debf7340d29408b88c85c4&ver=2.6.0&operator=T-Mobile_310260&network=WIFI&launcher=0",S=[96,97,100,85,84],C=["电影","电视剧","动漫","综艺","纪录片"],A=[],I=new f.default("youku"),E=null},,function(t,e,n){"use strict";function i(t){return t.replace(/&#039;/g,"'")}function r(t,e){var n=a.createLoadingDocument();navigationDocument.pushDocument(n);var r="http://www.lavaradio.com/api/radio.listChannelPrograms.json?channel_id="+t;a.getHTTP(r,function(r){var l=JSON.parse(r),s={title:e+" 频道"+t,section:[]},u=!0,c=!1,d=void 0;try{for(var p,h=l.data.lists[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var v=p.value;s.section.push({img:v.pic_url,width:250,height:376,title:i(v.program_name),program_id:v.program_id})}}catch(t){c=!0,d=t}finally{try{!u&&h.return&&h.return()}finally{if(c)throw d}}a.renderEjsTemplate(a.stackTemplate,s,function(t){t.addEventListener("select",function(t){var e=t.target,n=e.getAttribute("index");o(s.section[n].program_id)}),navigationDocument.replaceDocument(t,n)})})}function o(t){var e="http://www.lavaradio.com/api/play.playProgramNew.json?program_id="+t;a.debug("play music url:"+e),l==e?s.present():(l=e,a.debug("new play list: "+e),s.stop(),a.getHTTP(e,function(t){for(var e=new Playlist,n=JSON.parse(t).data.songs,i=0;i<n.length;i++){var r=new MediaItem("audio",n[i].audio_url);r.title=n[i].song_name+" - "+n[i].artists_name,r.artworkImageURL=n[i].pic_url,r.description=n[i].artists_name+"《"+n[i].salbums_name+"》",r.subtitle=n[i].artists_name+"《"+n[i].salbums_name+"》",e.push(r),a.debug("add songs:"+n[i].song_name)}s.playlist=e,s.play(),a.debug("play finished")}))}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),l=void 0,s=new Player;s.addEventListener("stateDidChange",function(t,e){"end"==t.state||"paused"==t.state?JSB.enableAutoSleep():JSB.disableAutoSleep()},{});e.showLavaHome=function(){var t=a.createLoadingDocument();navigationDocument.pushDocument(t);var e="http://www.lavaradio.com/api/radio.listAllChannels.json?";a.getHTTP(e,function(e){var n=JSON.parse(e),i={title:"Lava Radio",listSection:[]};for(var o in n.data){var l=n.data[o],s={title:l.radio_name,decoration:l.channels.length,section:[]};i.listSection.push(s);for(var u in l.channels){var c=l.channels[u],d={title:"",data:o,data1:u,overlay_title:c.channel_name,img:c.pic_url,width:250,height:376};s.section.push(d)}}a.renderEjsTemplate(a.catalogTemplate,i,function(e){e.addEventListener("select",function(t){var e=t.target,i=e.getAttribute("data"),o=e.getAttribute("data1");if(i&&o){var a=n.data[i].channels[o].channel_id,l=n.data[i].channels[o].channel_name;r(a,l)}}),navigationDocument.replaceDocument(e,t)})})}},,,,,,,function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=D.createLoadingDocument();navigationDocument.pushDocument(e);var n="http://music.163.com/api/playlist/detail?id="+t,i=JSB.httpGet(n,"",P,""),r=JSON.parse(i).result,o=0;if(J&&t==z&&J.currentMediaItem)for(var a in r.tracks){var l=r.tracks[a];if(l.id==J.currentMediaItem.id){o=a;break}}var s={title:r.name,heroImg:r.coverImgUrl,artists:"歌单创建者：",focusIdx:o,musics:[]};s.artists+=r.creator.nickname;var c=!0,d=!1,p=void 0;try{for(var h,v=r.tracks[Symbol.iterator]();!(c=(h=v.next()).done);c=!0){var m=h.value;s.musics.push({title:m.name,id:m.id,albumId:m.album.id,url:m.mp3Url.replace(/^http:\/\/m/,"http://p"),img:m.album.picUrl,duration:D.time2str(parseFloat(m.duration)/1e3)})}}catch(t){d=!0,p=t}finally{try{!c&&v.return&&v.return()}finally{if(d)throw p}}D.renderEjsTemplate(L.default,s,function(n){H=n,n.addEventListener("select",function(e){var i=e.target.getAttribute("index");u(t,s.musics,i,n)}),navigationDocument.replaceDocument(n,e)})}function a(t){var e=D.createLoadingDocument();navigationDocument.pushDocument(e);var n="http://music.163.com/api/album/"+t,i=JSB.httpGet(n,"",P,""),r=JSON.parse(i).album,o=0;if(J&&t==z&&J.currentMediaItem)for(var a in r.songs){var l=r.songs[a];if(l.id==J.currentMediaItem.id){o=a;break}}var s={title:r.name,heroImg:r.picUrl,artists:"歌手：",focusIdx:o,musics:[]},c=!0,d=!1,p=void 0;try{for(var h,v=r.artists[Symbol.iterator]();!(c=(h=v.next()).done);c=!0){var m=h.value;s.artists+=m.name,s.artists+=" "}}catch(t){d=!0,p=t}finally{try{!c&&v.return&&v.return()}finally{if(d)throw p}}var f=!0,g=!1,_=void 0;try{for(var y,b=r.songs[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){var k=y.value;s.musics.push({title:k.name,id:k.id,url:k.mp3Url.replace(/^http:\/\/m/,"http://p"),img:r.picUrl,duration:D.time2str(parseFloat(k.duration)/1e3)})}}catch(t){g=!0,_=t}finally{try{!f&&b.return&&b.return()}finally{if(g)throw _}}D.renderEjsTemplate(L.default,s,function(n){H=n,n.addEventListener("select",function(e){var i=e.target.getAttribute("index");u(t,s.musics,i,n)}),navigationDocument.replaceDocument(n,e)})}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;U=null,void 0;var n="http://music.163.com/api/song/lyric?id="+t+"&lv=-1";D.getHTTP(n,function(t){void 0;var n=JSON.parse(t).lrc;if("undefined"!=typeof n){var i=n.lyric;if("undefined"!=typeof i){var r=i.split(/\n/),o=[];for(var a in r){var l=r[a];void 0;var s=l.match(/\[(.*?)\]/g),u=l.match(/\[(.*)\](.*)/);if(null!=u){var c=u[2],d=!0,p=!1,h=void 0;try{for(var v,m=s[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var f=v.value,g=f.match(/\[(.*)?\]/)[1],_=g.split(/:/);if(2==_.length){var y=parseInt(_[0]),b=parseFloat(_[1]);void 0;var k=60*y+b;null==k||isNaN(k)||(k>0&&(k-=.1),o.push({time:k,content:c}))}else if(3==_.length){var x=parseInt(_[0]),w=parseFloat(_[1]),T=parseFloat(_[2]);void 0;var D=60*x+w+T/100;null==D||isNaN(D)||(D>0&&(D-=.1),o.push({time:D,content:c}))}}}catch(t){p=!0,h=t}finally{try{!d&&m.return&&m.return()}finally{if(p)throw h}}}}o.sort(function(t,e){return parseFloat(t.time)-parseFloat(e.time)}),U=o,void 0,e&&e()}}})}function s(t){var e=D.createLoadingDocument();navigationDocument.pushDocument(e);var n="http://music.163.com/api/artist/albums/"+t+"?offset=0&limit=100",i=JSB.httpGet(n,"",P,""),r=JSON.parse(i),o={title:r.artist.name+" 热门专辑",section:[]},l=!0,s=!1,u=void 0;try{for(var c,d=r.hotAlbums[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var p=c.value;o.section.push({title:p.name,subtitle:"共"+p.size+"首",img:p.picUrl,width:256,height:256,data:p.id,data1:"album"})}}catch(t){s=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(s)throw u}}D.renderEjsTemplate(D.stackTemplate,o,function(t){t.addEventListener("select",function(t){var e=t.target.getAttribute("data");a(e)}),navigationDocument.replaceDocument(t,e)})}function u(t,e,n,i){function r(){function t(t,e){var n=null,i=null,r=null,o=null;H&&(n=H.getElementById("lrc_now"),i=H.getElementById("lrc_prev"),o=H.getElementById("lrc_title"),o.textContent=J.currentMediaItem.ori_title,r=H.getElementById("lrc_next")),void 0;var a=parseFloat(t.boundary);if(U)for(var l=0;l<U.length;l++){var s=U[l];if(Math.abs(parseFloat(s.time)-parseFloat(a))<.01){var u=U[parseInt(l)].content,c=J.currentMediaItem;void 0,c.title=u,n&&(n.textContent=c.title),l>0?i&&(i.textContent=U[parseInt(l)-1].content):i&&(i.textContent=""),l<U.length-1?r&&(r.textContent=U[parseInt(l)+1].content):r&&(r.textContent=""),n.textContent=s.content,c.title=s.content;break}}}var e=null,n=null,i=null,r=null;H&&(e=H.getElementById("lrc_now"),r=H.getElementById("lrc_title"),r.textContent=J.currentMediaItem.ori_title,n=H.getElementById("lrc_prev"),i=H.getElementById("lrc_next")),U&&U.length>0&&0==U[0].time&&e&&(e.textContent=U[0].content),d&&J.removeEventListener("timeBoundaryDidCross",d),d=t,J.addEventListener("timeBoundaryDidCross",d,U.map(function(t){return parseFloat(t.time)}))}if(void 0,J){var o=J.currentMediaItem;if(o&&o.url==e[n].url)return void J.present()}if(null!=z&&z==t)return void J.changeToMediaAtIndex(n);z=t,J=new Player,J.addEventListener("stateDidChange",function(t,e){"end"==t.state||"paused"==t.state?JSB.enableAutoSleep():JSB.disableAutoSleep()},{});var a=new Playlist;for(var s in e){var u=e[s],c=new MediaItem("audio",u.url);c.artworkImageURL=u.img,c.title=u.title,c.ori_title="正在播放："+(parseInt(s)+1)+" "+u.title,c.id=u.id,a.push(c)}J.playlist=a,J.addEventListener("timeDidChange",function(t,e){var n=(parseFloat(t.time),J.currentMediaItem),i=null,o=null,a=null;if(H){i=H.getElementById("lrc_now"),o=H.getElementById("lrc_prev"),a=H.getElementById("lrc_next");var s=H.getElementById("lrc_title");s.textContent=J.currentMediaItem.ori_title}R?R!=n.url&&(void 0,R=n.url,i&&(i.textContent=""),o&&(o.textContent=""),a&&(a.textContent=""),l(n.id,function(){r()})):(void 0,i&&(i.textContent=""),o&&(o.textContent=""),a&&(a.textContent=""),R=n.url,l(n.id,function(){r()}))},{interval:1});var d=null;J.addEventListener("stateDidChange",function(t,e){void 0;var n=null,i=null,r=null;H&&(n=H.getElementById("lrc_now"),i=H.getElementById("lrc_prev"),r=H.getElementById("lrc_next")),n&&(n.textContent=""),"end"==t.state&&(i&&(i.textContent=""),r&&(r.textContent=""))}),J.addEventListener("mediaitemdidchange",function(t,e,n,i){void 0}),J.play(),J.changeToMediaAtIndex(n)}function c(t){var e=30,n="新歌专辑",i=new A.default(n,e,function(t,n){var i="http://music.163.com/api/album/new?area=ALL&offset="+e*(t-1)+"&total=true&limit="+e;void 0;var r=JSB.httpGet(i,"",P,""),o=JSON.parse(r),a=(o.total,[]),l=!0,s=!1,u=void 0;try{for(var c,d=o.albums[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var p=c.value;a.push({title:p.name,subtitle:p.subType,img:p.picUrl,width:256,height:256,data:p.id,data1:"album"})}}catch(t){s=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(s)throw u}}n(a)},function(t,e,n,i){void 0,a(e)},function(t,e,n,i){});i.getDoc(function(e){t(e)})}function d(t){var e=30,n="热门歌单",i=new A.default(n,e,function(t,n){var i="http://music.163.com/api/playlist/list?&order=hot&offset="+e*(t-1)+"&total=true&limit="+e;void 0;var r=JSB.httpGet(i,"",P,""),o=JSON.parse(r),a=(o.total,[]),l=!0,s=!1,u=void 0;try{for(var c,d=o.playlists[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var p=c.value;a.push({
title:p.name,subtitle:p.creator.nickname,img:p.coverImgUrl,width:256,height:256,data:p.id,data1:"playlist"})}}catch(t){s=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(s)throw u}}n(a)},function(t,e,n,i){void 0,o(e)},function(t,e,n,i){});i.getDoc(function(e){t(e)})}function p(t){var e=30,n="热门歌手",i=new A.default(n,e,function(t,n){var i="http://music.163.com/api/artist/top?&order=hot&offset="+e*(t-1)+"&total=true&limit="+e;void 0;var r=JSB.httpGet(i,"",P,""),o=JSON.parse(r),a=(o.total,[]),l=!0,s=!1,u=void 0;try{for(var c,d=o.artists[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var p=c.value;a.push({title:p.name,subtitle:p.albumSize+"张专辑",img:p.picUrl,width:256,height:256,data:p.id,data1:"artist"})}}catch(t){s=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(s)throw u}}n(a)},function(t,e,n,i){void 0,s(e)},function(t,e,n,i){});i.getDoc(function(e){t(e)})}function h(t){var e="http://music.163.com/api/radio/get",n=JSB.httpGet(e,"",P,""),i=JSON.parse(n).data[0],r={title:i.name,artist:i.artists[0].name,score:i.score,pop:i.popularity,heroImg:i.album.picUrl,id:i.id,url:i.mp3Url.replace(/^http:\/\/m/,"http://p"),tags:[]};V=r;var o=!0,a=!1,l=void 0;try{for(var s,u=i.artists[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;r.tags.push(c.name)}}catch(t){a=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw l}}var d=D.time2str(i.duration/1e3);r.tags.push(d),D.renderEjsTemplate(E.default,r,function(e){G=e,e.addEventListener("select",function(t){var e=t.target,n=e.getAttribute("action");"play"==n?(void 0,x({title:V.title,img:V.heroImg,url:V.url,artist:V.artist,id:V.id})):(void 0,v(!0))}),t(e)})}function v(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="http://music.163.com/api/radio/get",n=JSB.httpGet(e,"",P,""),i=JSON.parse(n).data[0],r={title:i.name,score:i.score,pop:i.popularity,heroImg:i.album.picUrl,id:i.id,artist:i.artists[0].name,url:i.mp3Url.replace(/^http:\/\/m/,"http://p"),tags:[]};V=r;var o=null;G&&(o=G.getElementById("desc"),o.textContent="");var a=!0,l=!1,s=void 0;try{for(var u,c=i.artists[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;r.tags.push(d.name)}}catch(t){l=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(l)throw s}}var p=D.time2str(i.duration/1e3);r.tags.push(p);var h=G.getElementById("title");h.textContent=r.title;for(var v=G.getElementById("row");v.lastChild;)v.removeChild(v.lastChild);var m=!0,f=!1,g=void 0;try{for(var _,y=r.tags[Symbol.iterator]();!(m=(_=y.next()).done);m=!0){var b=_.value,k=G.createElement("text");k.textContent=b,v.appendChild(k)}}catch(t){f=!0,g=t}finally{try{!m&&y.return&&y.return()}finally{if(f)throw g}}var w=G.getElementById("heroImg");w.setAttribute("src",r.heroImg),t&&x({title:V.title,img:V.heroImg,url:V.url,artist:V.artist,id:V.id})}function m(t,e){var n="s="+encodeURIComponent(t)+"&limit=30&type=1&offset=0",i=JSB.httpPost(url,P,n),r=JSON.parse(i).result.songs,o=[],a=!0,l=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;o.push({title:d.name,subtitle:d.album.name,img:d.album.picUrl,width:256,height:256,data:d.mp3Url.replace(/^http:\/\/m/,"http://p"),data1:d.album.id,data2:"music163"})}}catch(t){l=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(l)throw s}}callbcak(o)}function f(t){(0,j.getSearchDoc)(function(t){var e=[];t(e)},function(t){void 0;var e=D.createLoadingDocument();navigationDocument.pushDocument(e);var n="搜索『"+t+"』结果",i=30,r=new A.default(n,i,function(e,n){var i="http://music.163.com/api/search/pc",r="s="+encodeURIComponent(t)+"&limit=30&type=1&offset=0",o=JSB.httpPost(i,P,r),a=JSON.parse(o).result.songs,l=[],s=!0,u=!1,c=void 0;try{for(var d,p=a[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var h=d.value;l.push({title:h.name,subtitle:h.album.name,img:h.album.picUrl,width:256,height:256,data:h.mp3Url.replace(/^http:\/\/m/,"http://p"),data1:h.album.id,data2:"songs"})}}catch(t){u=!0,c=t}finally{try{!s&&p.return&&p.return()}finally{if(u)throw c}}n(l)},function(t,e,n,i){void 0,a(n)},function(t,e,n,i){});r.getDoc(function(t){navigationDocument.replaceDocument(t,e)})},function(e){t(e)})}function g(t){var e=localStorage.getItem("music163_uid");"undefined"==typeof e&&(e="");var n=null;if(0!=e.length){var i="http://music.163.com/api/user/playlist?offset=0&limit=100&uid="+e,r=JSB.httpGet(i,"",P,""),a=JSON.parse(r).playlist;if("undefined"==typeof a[0]||"undefined"==typeof a[0].creator||null==a[0].creator)e="",localStorage.setItem("music163_uid",e),n={title:"请输入个人uid",playlists:[],img:"",description:"(登录后个人链接后面的数字)"};else{n={title:a[0].creator.nickname+(" "+e),playlists:[],img:a[0].creator.avatarUrl,description:a[0].creator.signature};var l=!0,s=!1,u=void 0;try{for(var c,d=a[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var p=c.value;n.playlists.push({title:p.name,musicnum:p.trackCount,id:p.id})}}catch(t){s=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(s)throw u}}}}else n={title:"请输入个人uid",playlists:[],img:"",description:"(登录后个人链接后面的数字)"};D.renderEjsTemplate(N.default,n,function(e){W=e,e.addEventListener("select",function(t){var e=t.target.getAttribute("index");if(e>=0){var n=t.target.getAttribute("data");o(n)}else"uid"==e?y():"refresh"==e&&_()}),t(e)})}function _(){var t=localStorage.getItem("music163_uid"),e="http://music.163.com/api/user/playlist?offset=0&limit=100&uid="+t,n=JSB.httpGet(e,"",P,""),i=JSON.parse(n).playlist;if("undefined"==typeof i[0]||"undefined"==typeof i[0].creator||null==i[0].creator){var r=D.createAlertDocument("错误","UID有误，请检查");return void navigationDocument.pushDocument(r)}var o={title:i[0].creator.nickname+(" "+t),playlists:[],img:i[0].creator.avatarUrl,description:i[0].creator.signature},a=!0,l=!1,s=void 0;try{for(var u,c=i[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;o.playlists.push({title:d.name,musicnum:d.trackCount,id:d.id})}}catch(t){l=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(l)throw s}}var p=W.getElementById("heroImg");p.setAttribute("src",o.img);var h=W.getElementById("title");h.textContent=o.title;var v=W.getElementById("description");v.textContent=o.description;for(var m=W.getElementById("playlist_section");m.lastChild;)m.removeChild(m.lastChild);for(var f in o.playlists){var g=o.playlists[f],_=W.createElement("listItemLockup"),y=W.createElement("ordinal");y.setAttribute("minLength",3),y.textContent=parseInt(f)+1;var b=W.createElement("title"),k=W.createElement("decorationLabel");k.textContent=g.musicnum,b.textContent=g.title,_.appendChild(y),_.appendChild(b),_.appendChild(k),_.setAttribute("index",f),_.setAttribute("data",g.id),m.appendChild(_)}}function y(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{title:"输入个人uid",text:"",button:"提交"});D.renderEjsTemplate(D.formTemplate,t,function(t){t.addEventListener("select",function(e){var n=t.getElementsByTagName("textField").item(0),i=n.getFeature("Keyboard"),r=i.text;if(void 0,0!=r.length){var o="http://music.163.com/api/user/playlist?offset=0&limit=100&uid="+r,a=JSB.httpGet(o,"",P,""),l=JSON.parse(a).playlist;if("undefined"==typeof l[0]||"undefined"==typeof l[0].creator||null==l[0].creator){var s=D.createAlertDocument("错误","输入的UID有误，请检查");return void navigationDocument.pushDocument(s)}localStorage.setItem("music163_uid",r),_(),navigationDocument.popDocument()}}),navigationDocument.pushDocument(t)})}function b(t,e){0==t?h(e):1==t?g(e):2==t?c(e):3==t?d(e):4==t?p(e):5==t&&f(e)}function k(){var t=["电台","个人","新歌专辑","热门歌单","热门歌星","搜索"];(0,S.showMenuBar)(t,b,function(t){X=t})}function x(t){var e=O.currentMediaItem;if(e&&e.url==t.url)return void O.present();O.stop(),O=new Player,O.addEventListener("stateDidChange",function(t,e){"end"==t.state||"paused"==t.state?JSB.enableAutoSleep():JSB.disableAutoSleep()},{});var n="http://music.163.com/api/song/lyric?id="+t.id+"&lv=-1";K=null,F=t.url;var i=new MediaItem("audio",t.url);i.artworkImageURL=t.img,i.title=t.title;var r=new Playlist;r.push(i),O.playlist=r;D.getHTTP(n,function(t){void 0;var e=null,n=null,i=null;G&&(e=G.getElementById("desc"),n=G.getElementById("desc_prev"),i=G.getElementById("desc_next"),e.textContent="",n.textContent="",i.textContent="");var r=JSON.parse(t).lrc;if("undefined"==typeof r)return void O.play();var o=r.lyric,a=o.split(/\n/),l=[];for(var s in a){var u=a[s],c=u.match(/\[(.*?)\]/g),d=u.match(/\[(.*)\](.*)/);if(null!=d){var p=d[2],h=!0,m=!1,f=void 0;try{for(var g,_=c[Symbol.iterator]();!(h=(g=_.next()).done);h=!0){var y=g.value,b=y.match(/\[(.*)?\]/)[1],k=b.split(/:/);if(2==k.length){var x=parseInt(k[0]),w=parseFloat(k[1]);void 0;var T=60*x+w;null==T||isNaN(T)||(T>0&&(T-=.1),l.push({time:T,content:p}))}else if(3==k.length){var D=parseInt(k[0]),S=parseFloat(k[1]),C=parseFloat(k[2]);void 0;var A=60*D+S+C/100;null==A||isNaN(A)||(A>0&&(A-=.1),l.push({time:A,content:p}))}}}catch(t){m=!0,f=t}finally{try{!h&&_.return&&_.return()}finally{if(m)throw f}}}}l.sort(function(t,e){return parseFloat(t.time)-parseFloat(e.time)}),K=l,void 0,K&&0==K[0].time&&e&&(e.textContent=K[0].content);var I=0;O.addEventListener("timeDidChange",function(t,e){0===I&&(I=O.currentMediaItemDuration,void 0,O.addEventListener("timeBoundaryDidCross",function(t,e){void 0,v(!0)},[I-.1]))},{interval:1}),K&&O.addEventListener("timeBoundaryDidCross",function(t,r){if(K){void 0;for(var o=parseFloat(t.boundary),a=0;a<K.length;a++){var l=K[a];if(Math.abs(parseFloat(l.time)-parseFloat(o))<.01){e.textContent=l.content;var s=O.currentMediaItem;s.title=l.content,a>0?n.textContent=K[a-1].content:n.textContent="",a<K.length-1?i.textContent=K[a+1].content:i.textContent="";break}}}},K.map(function(t){return parseFloat(t.time)})),O.play()}),setTimeout(function(){navigationDocument.popDocument()},2e3)}Object.defineProperty(e,"__esModule",{value:!0}),e.showPlayList=o,e.showAlbum=a,e.searchKeyWord=m,e.showMusic163Home=k;var w=n(2),T=(r(w),n(1)),D=i(T),S=n(15),C=n(14),A=r(C),I=n(44),E=r(I),B=n(45),L=r(B),M=n(46),N=r(M),j=n(16),O=(n(47),n(56),new Player),F=null,P="http://music.163.com",H=null,J=null,U=null,z=null,R=null,G=null,V=null,K=null,W=null,X=null},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<?xml version="1.0" encoding="UTF-8" ?>\n<!--\nCopyright (C) 2016 fuzhuo233@gmail.com\n-->\n<document>\n  <head>\n    <style>\n      .showTextOnHighlight {\n      tv-text-highlight-style: show-on-highlight;\n      }\n      .badge {\n      tv-tint-color: rgb(255,255,255);\n      }\n      .9ColumnGrid {\n      tv-interitem-spacing: 51;\n      }\n      .desc_prev {\n        font-size: 28px;\n        color: #BBBBBB;\n      }\n      .desc {\n        font-size: 55px;\n      }\n      .desc_next {\n        color: #CCCCCC;\n        font-size: 28px;\n      }\n      .lrc_row {\n        margin-top: 30px;\n      }\n      .lrc_now {\n        font-size: 51px;\n      }\n    </style>\n  </head>\n  <productTemplate theme="dark">\n    <banner>\n      <infoList>\n        <info>\n          <header>\n            <title></title>\n          </header>\n        </info>\n        <info>\n          <header>\n            <title></title>\n          </header>\n        </info>\n      </infoList>\n      <stack>\n        <title id="title"><![CDATA['+(null==(__t=title)?"":__t)+']]></title>\n        <row id="row">\n          ';for(var i in tags){var tag=tags[i];__p+="\n          <text>"+(null==(__t=tag)?"":__t)+"</text>\n          "}__p+='\n        </row>\n        <row>\n          <text> </text>\n        </row>\n        <row>\n          <text id="desc_prev" class="desc_prev"></text>\n        </row>\n        <row>\n          <text> </text>\n        </row>\n        <row>\n          <text id="desc" class="lrc_now"></text>\n        </row>\n        <row>\n          <text> </text>\n        </row>\n        <row>\n          <text id="desc_next" class="desc_next"></text>\n        </row>\n        <row>\n          <text> </text>\n        </row>\n        <row>\n          <text> </text>\n        </row>\n        <row class="button_row">\n          <buttonLockup action="play">\n            <badge src="resource://button-play" />\n            <title>播放/恢复</title>\n          </buttonLockup>\n          <buttonLockup action="next">\n            <badge src="resource://list-chevron" />\n            <title>下一个</title>\n          </buttonLockup>\n        </row>\n      </stack>\n      <heroImg id="heroImg" src="'+(null==(__t=heroImg)?"":__t)+'"/>\n    </banner>\n  </productTemplate>\n</document>\n'}return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<document>\n  <head>\n    <style>\n      .prev {\n        font-size: 30px;\n        min-width: 300px;\n        color: #eeeeee;\n        margin-top: 20px;\n      }\n      .now {\n        font-size: 40px;\n        min-width: 300px;\n        color: #ffffff;\n        text-shadow: 0px 0px 12px #030303;\n        font-weight: bold;\n        margin-top: 20px;\n      }\n      .title {\n        font-size: 38px;\n        min-width: 300px;\n        color: #ffffff;\n        text-shadow: 0px 0px 12px #030303;\n        margin-top: 20px;\n      }\n      .next {\n        font-size: 30px;\n        min-width: 300px;\n        color: #eeeeee;\n        margin-top: 20px;\n      }\n      .row {\n        min-width: 300px;\n      }\n    </style>\n  </head>\n  <compilationTemplate theme="light">\n    <list>\n      <relatedContent>\n        <itemBanner>\n          <heroImg src="'+(null==(__t=heroImg)?"":__t)+'" />\n            <text id="lrc_title" class="title"></text>\n            <text id="lrc_space" class="prev">...</text>\n            <text id="lrc_prev" class="prev"></text>\n            <text id="lrc_now" class="now"></text>\n            <text id="lrc_next" class="next"></text>\n        </itemBanner>\n      </relatedContent>\n      <header>\n        <title><![CDATA['+(null==(__t=title)?"":__t)+"(共"+(null==(__t=musics.length)?"":__t)+"首)]]></title>\n        <subtitle><![CDATA["+(null==(__t=artists)?"":__t)+"]]></subtitle>\n      </header>\n      <section>\n        ";for(var m in musics){var music=musics[m];__p+="\n        ",__p+=m==focusIdx?'\n        <listItemLockup autoHighlight="true" index="'+(null==(__t=m)?"":__t)+'">\n        ':'\n        <listItemLockup index="'+(null==(__t=m)?"":__t)+'">\n        ',__p+='\n          <ordinal minLength="2">'+(null==(__t=parseInt(m)+1)?"":__t)+"</ordinal>\n          <title><![CDATA["+(null==(__t=music.title)?"":__t)+"]]></title>\n          <decorationLabel>"+(null==(__t=music.duration)?"":__t)+"</decorationLabel>\n        </listItemLockup>\n        "}__p+="\n      </section>\n    </list>\n  </compilationTemplate>\n</document>\n"}return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<document>\n  <compilationTemplate theme="light">\n    <list>\n      <relatedContent>\n        <itemBanner>\n          <heroImg id="heroImg" src="'+(null==(__t=img)?"":__t)+'" />\n          <row>\n            <buttonLockup index="refresh">\n              <badge src="resource://button-checkmark"/>\n              <title>刷新</title>\n            </buttonLockup>\n            <buttonLockup index="uid">\n              <badge src="resource://button-add"/>\n              <title>更改UID</title>\n            </buttonLockup>\n          </row>\n        </itemBanner>\n      </relatedContent>\n      <header>\n        <title id="title">'+(null==(__t=title)?"":__t)+'</title>\n      </header>\n      <section>\n        <description id="description"><![CDATA['+(null==(__t=description)?"":__t)+']]></description>\n      </section>\n      <section id="playlist_section">\n      ';for(var l in playlists){var item=playlists[l];__p+='\n        <listItemLockup index="'+(null==(__t=l)?"":__t)+'" data="'+(null==(__t=item.id)?"":__t)+'">\n          <ordinal minLength="3">'+(null==(__t=parseInt(l)+1)?"":__t)+"</ordinal>\n          <title><![CDATA["+(null==(__t=item.title)?"":__t)+"]]></title>\n          <decorationLabel>"+(null==(__t=item.musicnum)?"":__t)+"</decorationLabel>\n        </listItemLockup>\n      "}__p+="\n      </section>\n    </list>\n  </compilationTemplate>\n</document>\n"}return __p}},function(t,e,n){"use strict";function i(t,e,n){this.e=m(t),this.d=m(e),this.m=m(n),this.chunkSize=2*_(this.m),this.radix=16,this.barrett=new B(this.m)}function r(t,e){for(var n,i,r,o,l,s,u,d=new Array,h=e.length,v=0;h>v;)d[v]=e.charCodeAt(v),v++;for(;0!=d.length%t.chunkSize;)d[v++]=0;for(n=d.length,i="",v=0;n>v;v+=t.chunkSize){for(l=new a,r=0,o=v;o<v+t.chunkSize;++r)l.digits[r]=d[o++],l.digits[r]+=d[o++]<<8;s=t.barrett.powMod(l,t.e),u=16==t.radix?p(s):c(s,t.radix),i+=u+" "}return i.substring(0,i.length-1)}function o(t){H=t,J=new Array(H);for(var e=0;e<J.length;e++)J[e]=0;U=new a,z=new a,z.digits[0]=1}function a(t){this.digits="boolean"==typeof t&&1==t?null:J.slice(0),this.isNeg=!1}function l(t){var e=new a(!0);return e.digits=t.digits.slice(0),e.isNeg=t.isNeg,e}function s(t){var e,n=new a;for(n.isNeg=0>t,t=Math.abs(t),e=0;t>0;)n.digits[e++]=t&nt,t>>=Z;return n}function u(t){var e,n="";for(e=t.length-1;e>-1;--e)n+=t.charAt(e);return n}function c(t,e){var n,i,r=new a;for(r.digits[0]=e,n=I(t,r),i=V[n[1].digits[0]];1==A(n[0],U);)n=I(n[0],r),digit=n[1].digits[0],i+=V[n[1].digits[0]];return(t.isNeg?"-":"")+u(i)}function d(t){for(var e=15,n="",i=0;4>i;++i)n+=K[t&e],t>>>=4;return u(n)}function p(t){var e,n="";for(_(t),e=_(t);e>-1;--e)n+=d(t.digits[e]);return n}function h(t){var e,n=48,i=n+9,r=97,o=r+25,a=65,l=90;return e=t>=n&&i>=t?t-n:t>=a&&l>=t?10+t-a:t>=r&&o>=t?10+t-r:0}function v(t){var e,n=0,i=Math.min(t.length,4);for(e=0;i>e;++e)n<<=4,n|=h(t.charCodeAt(e));return n}function m(t){var e,n,i=new a,r=t.length;for(e=r,n=0;e>0;e-=4,++n)i.digits[n]=v(t.substr(Math.max(e-4,0),Math.min(e,4)));return i}function f(t,e){var n,i,r,o;if(t.isNeg!=e.isNeg)e.isNeg=!e.isNeg,n=g(t,e),e.isNeg=!e.isNeg;else{for(n=new a,i=0,o=0;o<t.digits.length;++o)r=t.digits[o]+e.digits[o]+i,n.digits[o]=65535&r,i=Number(r>=$);n.isNeg=t.isNeg}return n}function g(t,e){var n,i,r,o;if(t.isNeg!=e.isNeg)e.isNeg=!e.isNeg,n=f(t,e),e.isNeg=!e.isNeg;else{for(n=new a,r=0,o=0;o<t.digits.length;++o)i=t.digits[o]-e.digits[o]+r,n.digits[o]=65535&i,n.digits[o]<0&&(n.digits[o]+=$),r=0-Number(0>i);if(-1==r){for(r=0,o=0;o<t.digits.length;++o)i=0-n.digits[o]+r,n.digits[o]=65535&i,n.digits[o]<0&&(n.digits[o]+=$),r=0-Number(0>i);n.isNeg=!t.isNeg}else n.isNeg=t.isNeg}return n}function _(t){for(var e=t.digits.length-1;e>0&&0==t.digits[e];)--e;return e}function y(t){var e,n=_(t),i=t.digits[n],r=(n+1)*Q;for(e=r;e>r-Q&&0==(32768&i);--e)i<<=1;return e}function b(t,e){var n,i,r,o,l,s=new a,u=_(t),c=_(e);for(o=0;c>=o;++o){for(n=0,r=o,l=0;u>=l;++l,++r)i=s.digits[r]+t.digits[l]*e.digits[o]+n,s.digits[r]=i&nt,n=i>>>Z;s.digits[o+u+1]=n}return s.isNeg=t.isNeg!=e.isNeg,s}function k(t,e){var n,i,r,o;for(P=new a,n=_(t),i=0,o=0;n>=o;++o)r=P.digits[o]+t.digits[o]*e+i,P.digits[o]=r&nt,i=r>>>Z;return P.digits[1+n]=i,P}function x(t,e,n,i,r){var o,a,l=Math.min(e+r,t.length);for(o=e,a=i;l>o;++o,++a)n[a]=t[o]}function w(t,e){var n,i,r,o,l=Math.floor(e/Q),s=new a;for(x(t.digits,0,s.digits,l,s.digits.length-l),n=e%Q,i=Q-n,r=s.digits.length-1,o=r-1;r>0;--r,--o)s.digits[r]=s.digits[r]<<n&nt|(s.digits[o]&W[n])>>>i;return s.digits[0]=s.digits[r]<<n&nt,s.isNeg=t.isNeg,s}function T(t,e){var n,i,r,o,l=Math.floor(e/Q),s=new a;for(x(t.digits,l,s.digits,0,t.digits.length-l),n=e%Q,i=Q-n,r=0,o=r+1;r<s.digits.length-1;++r,++o)s.digits[r]=s.digits[r]>>>n|(s.digits[o]&X[n])<<i;return s.digits[s.digits.length-1]>>>=n,s.isNeg=t.isNeg,s}function D(t,e){var n=new a;return x(t.digits,0,n.digits,e,n.digits.length-e),n}function S(t,e){var n=new a;return x(t.digits,e,n.digits,0,n.digits.length-e),n}function C(t,e){var n=new a;return x(t.digits,0,n.digits,0,e),n}function A(t,e){if(t.isNeg!=e.isNeg)return 1-2*Number(t.isNeg);for(var n=t.digits.length-1;n>=0;--n)if(t.digits[n]!=e.digits[n])return t.isNeg?1-2*Number(t.digits[n]>e.digits[n]):1-2*Number(t.digits[n]<e.digits[n]);return 0}function I(t,e){var n,i,r,o,s,u,c,d,p,h,v,m,b,x,S=y(t),C=y(e),I=e.isNeg;if(C>S)return t.isNeg?(n=l(z),n.isNeg=!e.isNeg,t.isNeg=!1,e.isNeg=!1,i=g(e,t),t.isNeg=!0,e.isNeg=I):(n=new a,i=l(t)),new Array(n,i);for(n=new a,i=t,r=Math.ceil(C/Q)-1,o=0;e.digits[r]<tt;)e=w(e,1),++o,++C,r=Math.ceil(C/Q)-1;for(i=w(i,o),S+=o,s=Math.ceil(S/Q)-1,u=D(e,s-r);-1!=A(i,u);)++n.digits[s-r],i=g(i,u);for(c=s;c>r;--c){for(d=c>=i.digits.length?0:i.digits[c],p=c-1>=i.digits.length?0:i.digits[c-1],h=c-2>=i.digits.length?0:i.digits[c-2],v=r>=e.digits.length?0:e.digits[r],m=r-1>=e.digits.length?0:e.digits[r-1],n.digits[c-r-1]=d==v?nt:Math.floor((d*$+p)/v),b=n.digits[c-r-1]*(v*$+m),x=d*et+(p*$+h);b>x;)--n.digits[c-r-1],b=n.digits[c-r-1]*(v*$|m),x=d*$*$+(p*$+h);u=D(e,c-r-1),i=g(i,k(u,n.digits[c-r-1])),i.isNeg&&(i=f(i,u),--n.digits[c-r-1])}return i=T(i,o),n.isNeg=t.isNeg!=I,t.isNeg&&(n=I?f(n,z):g(n,z),e=T(e,o),i=g(e,i)),0==i.digits[0]&&0==_(i)&&(i.isNeg=!1),new Array(n,i)}function E(t,e){return I(t,e)[0]}function B(t){this.modulus=l(t),this.k=_(this.modulus)+1;var e=new a;e.digits[2*this.k]=1,this.mu=E(e,this.modulus),this.bkplus1=new a,this.bkplus1.digits[this.k+1]=1,this.modulo=L,this.multiplyMod=M,this.powMod=N}function L(t){var e,n=S(t,this.k-1),i=b(n,this.mu),r=S(i,this.k+1),o=C(t,this.k+1),a=b(r,this.modulus),l=C(a,this.k+1),s=g(o,l);for(s.isNeg&&(s=f(s,this.bkplus1)),e=A(s,this.modulus)>=0;e;)s=g(s,this.modulus),e=A(s,this.modulus)>=0;return s}function M(t,e){var n=b(t,e);return this.modulo(n)}function N(t,e){var n,i,r=new a;for(r.digits[0]=1,n=t,i=e;0!=(1&i.digits[0])&&(r=this.multiplyMod(r,n)),i=T(i,1),0!=i.digits[0]||0!=_(i);)n=this.multiplyMod(n,n);return r}function j(t){var e,n,i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r="";for(e=0;t>e;e+=1)n=Math.random()*i.length,n=Math.floor(n),r+=i.charAt(n);return r}function O(t,e){var n=Y.enc.Utf8.parse(e),i=Y.enc.Utf8.parse("0102030405060708"),r=Y.enc.Utf8.parse(t),o=Y.AES.encrypt(r,n,{iv:i,mode:Y.mode.CBC});return o.toString()}function F(t,e,n){var a,l;return o(131),a=new i(e,"",n),l=r(a,t)}var P,H,J,U,z,R,G,V,K,W,X,q=n(48),Y=q.CryptoJS,Z=16,Q=Z,$=65536,tt=$>>>1,et=$*$,nt=$-1;o(20),R=15,G=s(1e15),V=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"),K=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),W=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535),X=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535),t.exports=function(t,e,n,i){var r={},o=j(16);return r.encText=O(t,i),r.encText=O(r.encText,o),r.encSecKey=F(o,e,n),r}},function(t,e,n){var i=n(49).CryptoJS;n(50),n(51),n(52),n(53),n(54);var r=n(55).JsonFormatter;e.CryptoJS=i,e.JsonFormatter=r},function(t,e){var n=n||function(t,e){var n={},i=n.lib={},r=i.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=r.extend({init:function(t,n){t=this.words=t||[],n!=e?this.sigBytes=n:this.sigBytes=4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,r=t.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[i+o>>>2]|=a<<24-(i+o)%4*8}else if(n.length>65535)for(var o=0;o<r;o+=4)e[i+o>>>2]=n[o>>>2];else e.push.apply(e,n);return this.sigBytes+=r,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return new o.init(n,e)}}),a=n.enc={},l=a.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var o=e[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new o.init(n,e/2)}},s=a.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var o=e[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new o.init(n,e)}},u=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(s.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return s.parse(unescape(encodeURIComponent(t)))}},c=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,r=n.sigBytes,a=this.blockSize,l=4*a,s=r/l;s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0);var u=s*a,c=t.min(4*u,r);if(u){for(var d=0;d<u;d+=a)this._doProcessBlock(i,d);var p=i.splice(0,u);n.sigBytes-=c}return new o.init(p,c)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),d=(i.Hasher=c.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}}),n.algo={});return n}(Math);e.CryptoJS=n},function(t,e,n){var i=n(49).CryptoJS;!function(){var t=i,e=t.lib,n=e.WordArray,r=t.enc;r.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var r=[],o=0;o<n;o+=3)for(var a=e[o>>>2]>>>24-o%4*8&255,l=e[o+1>>>2]>>>24-(o+1)%4*8&255,s=e[o+2>>>2]>>>24-(o+2)%4*8&255,u=a<<16|l<<8|s,c=0;c<4&&o+.75*c<n;c++)r.push(i.charAt(u>>>6*(3-c)&63));var d=i.charAt(64);if(d)for(;r.length%4;)r.push(d);return r.join("")},parse:function(t){var e=t.length,i=this._map,r=i.charAt(64);if(r){var o=t.indexOf(r);o!=-1&&(e=o)}for(var a=[],l=0,s=0;s<e;s++)if(s%4){var u=i.indexOf(t.charAt(s-1))<<s%4*2,c=i.indexOf(t.charAt(s))>>>6-s%4*2;a[l>>>2]|=(u|c)<<24-l%4*8,l++}return n.create(a,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}()},function(t,e,n){var i=n(49).CryptoJS;!function(t){function e(t,e,n,i,r,o,a){var l=t+(e&n|~e&i)+r+a;return(l<<o|l>>>32-o)+e}function n(t,e,n,i,r,o,a){var l=t+(e&i|n&~i)+r+a;return(l<<o|l>>>32-o)+e}function r(t,e,n,i,r,o,a){var l=t+(e^n^i)+r+a;return(l<<o|l>>>32-o)+e}function o(t,e,n,i,r,o,a){var l=t+(n^(e|~i))+r+a;return(l<<o|l>>>32-o)+e}var a=i,l=a.lib,s=l.WordArray,u=l.Hasher,c=a.algo,d=[];!function(){for(var e=0;e<64;e++)d[e]=4294967296*t.abs(t.sin(e+1))|0}();var p=c.MD5=u.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,i){for(var a=0;a<16;a++){var l=i+a,s=t[l];t[l]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var u=this._hash.words,c=t[i+0],p=t[i+1],h=t[i+2],v=t[i+3],m=t[i+4],f=t[i+5],g=t[i+6],_=t[i+7],y=t[i+8],b=t[i+9],k=t[i+10],x=t[i+11],w=t[i+12],T=t[i+13],D=t[i+14],S=t[i+15],C=u[0],A=u[1],I=u[2],E=u[3];C=e(C,A,I,E,c,7,d[0]),E=e(E,C,A,I,p,12,d[1]),I=e(I,E,C,A,h,17,d[2]),A=e(A,I,E,C,v,22,d[3]),C=e(C,A,I,E,m,7,d[4]),E=e(E,C,A,I,f,12,d[5]),I=e(I,E,C,A,g,17,d[6]),A=e(A,I,E,C,_,22,d[7]),C=e(C,A,I,E,y,7,d[8]),E=e(E,C,A,I,b,12,d[9]),I=e(I,E,C,A,k,17,d[10]),A=e(A,I,E,C,x,22,d[11]),C=e(C,A,I,E,w,7,d[12]),E=e(E,C,A,I,T,12,d[13]),I=e(I,E,C,A,D,17,d[14]),A=e(A,I,E,C,S,22,d[15]),C=n(C,A,I,E,p,5,d[16]),E=n(E,C,A,I,g,9,d[17]),I=n(I,E,C,A,x,14,d[18]),A=n(A,I,E,C,c,20,d[19]),C=n(C,A,I,E,f,5,d[20]),E=n(E,C,A,I,k,9,d[21]),I=n(I,E,C,A,S,14,d[22]),A=n(A,I,E,C,m,20,d[23]),C=n(C,A,I,E,b,5,d[24]),E=n(E,C,A,I,D,9,d[25]),I=n(I,E,C,A,v,14,d[26]),A=n(A,I,E,C,y,20,d[27]),C=n(C,A,I,E,T,5,d[28]),E=n(E,C,A,I,h,9,d[29]),I=n(I,E,C,A,_,14,d[30]),A=n(A,I,E,C,w,20,d[31]),C=r(C,A,I,E,f,4,d[32]),E=r(E,C,A,I,y,11,d[33]),I=r(I,E,C,A,x,16,d[34]),A=r(A,I,E,C,D,23,d[35]),C=r(C,A,I,E,p,4,d[36]),E=r(E,C,A,I,m,11,d[37]),I=r(I,E,C,A,_,16,d[38]),A=r(A,I,E,C,k,23,d[39]),C=r(C,A,I,E,T,4,d[40]),E=r(E,C,A,I,c,11,d[41]),I=r(I,E,C,A,v,16,d[42]),A=r(A,I,E,C,g,23,d[43]),C=r(C,A,I,E,b,4,d[44]),E=r(E,C,A,I,w,11,d[45]),I=r(I,E,C,A,S,16,d[46]),A=r(A,I,E,C,h,23,d[47]),C=o(C,A,I,E,c,6,d[48]),E=o(E,C,A,I,_,10,d[49]),I=o(I,E,C,A,D,15,d[50]),A=o(A,I,E,C,f,21,d[51]),C=o(C,A,I,E,w,6,d[52]),E=o(E,C,A,I,v,10,d[53]),I=o(I,E,C,A,k,15,d[54]),A=o(A,I,E,C,p,21,d[55]),C=o(C,A,I,E,y,6,d[56]),E=o(E,C,A,I,S,10,d[57]),I=o(I,E,C,A,g,15,d[58]),A=o(A,I,E,C,T,21,d[59]),C=o(C,A,I,E,m,6,d[60]),E=o(E,C,A,I,x,10,d[61]),I=o(I,E,C,A,h,15,d[62]),A=o(A,I,E,C,b,21,d[63]),u[0]=u[0]+C|0,u[1]=u[1]+A|0,u[2]=u[2]+I|0,u[3]=u[3]+E|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var o=t.floor(i/4294967296),a=i;n[(r+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[(r+64>>>9<<4)+14]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var l=this._hash,s=l.words,u=0;u<4;u++){var c=s[u];s[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return l},clone:function(){var t=u.clone.call(this);return t._hash=this._hash.clone(),t}});a.MD5=u._createHelper(p),a.HmacMD5=u._createHmacHelper(p)}(Math)},function(t,e,n){var i=n(49).CryptoJS;!function(){var t=i,e=t.lib,n=e.Base,r=e.WordArray,o=t.algo,a=o.MD5,l=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=n.hasher.create(),o=r.create(),a=o.words,l=n.keySize,s=n.iterations;a.length<l;){u&&i.update(u);var u=i.update(t).finalize(e);i.reset();for(var c=1;c<s;c++)u=i.finalize(u),i.reset();o.concat(u)}return o.sigBytes=4*l,o}});t.EvpKDF=function(t,e,n){return l.create(n).compute(t,e)}}()},function(t,e,n){var i=n(49).CryptoJS;i.lib.Cipher||function(t){var e=i,n=e.lib,r=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,l=e.enc,s=(l.Utf8,l.Base64),u=e.algo,c=u.EvpKDF,d=n.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?w:b}return function(e){return{encrypt:function(n,i,r){return t(i).encrypt(e,n,i,r)},decrypt:function(n,i,r){
return t(i).decrypt(e,n,i,r)}}}}()}),p=(n.StreamCipher=d.extend({_doFinalize:function(){var t=this._process(!0);return t},blockSize:1}),e.mode={}),h=n.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),v=p.CBC=function(){function e(e,n,i){var r=this._iv;if(r){var o=r;this._iv=t}else var o=this._prevBlock;for(var a=0;a<i;a++)e[n+a]^=o[a]}var n=h.extend();return n.Encryptor=n.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize;e.call(this,t,n,r),i.encryptBlock(t,n),this._prevBlock=t.slice(n,n+r)}}),n.Decryptor=n.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize,o=t.slice(n,n+r);i.decryptBlock(t,n),e.call(this,t,n,r),this._prevBlock=o}}),n}(),m=e.pad={},f=m.Pkcs7={pad:function(t,e){for(var n=4*e,i=n-t.sigBytes%n,r=i<<24|i<<16|i<<8|i,a=[],l=0;l<i;l+=4)a.push(r);var s=o.create(a,i);t.concat(s)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},g=(n.BlockCipher=d.extend({cfg:d.cfg.extend({mode:v,padding:f}),reset:function(){d.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=n.createEncryptor;else{var i=n.createDecryptor;this._minBufferSize=1}this._mode=i.call(n,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{var e=this._process(!0);t.unpad(e)}return e},blockSize:4}),n.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),_=e.format={},y=_.OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var i=o.create([1398893684,1701076831]).concat(n).concat(e);else var i=e;return i.toString(s)},parse:function(t){var e=s.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var i=o.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return g.create({ciphertext:e,salt:i})}},b=n.SerializableCipher=r.extend({cfg:r.extend({format:y}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var r=t.createEncryptor(n,i),o=r.finalize(e),a=r.cfg;return g.create({ciphertext:o,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var r=t.createDecryptor(n,i).finalize(e.ciphertext);return r},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),k=e.kdf={},x=k.OpenSSL={execute:function(t,e,n,i){i||(i=o.random(8));var r=c.create({keySize:e+n}).compute(t,i),a=o.create(r.words.slice(e),4*n);return r.sigBytes=4*e,g.create({key:r,iv:a,salt:i})}},w=n.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:x}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var r=i.kdf.execute(n,t.keySize,t.ivSize);i.iv=r.iv;var o=b.encrypt.call(this,t,e,r.key,i);return o.mixIn(r),o},decrypt:function(t,e,n,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var r=i.kdf.execute(n,t.keySize,t.ivSize,e.salt);i.iv=r.iv;var o=b.decrypt.call(this,t,e,r.key,i);return o}})}()},function(t,e,n){var i=n(49).CryptoJS;!function(){var t=i,e=t.lib,n=e.BlockCipher,r=t.algo,o=[],a=[],l=[],s=[],u=[],c=[],d=[],p=[],h=[],v=[];!function(){for(var t=[],e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var n=0,i=0,e=0;e<256;e++){var r=i^i<<1^i<<2^i<<3^i<<4;r=r>>>8^255&r^99,o[n]=r,a[r]=n;var m=t[n],f=t[m],g=t[f],_=257*t[r]^16843008*r;l[n]=_<<24|_>>>8,s[n]=_<<16|_>>>16,u[n]=_<<8|_>>>24,c[n]=_;var _=16843009*g^65537*f^257*m^16843008*n;d[r]=_<<24|_>>>8,p[r]=_<<16|_>>>16,h[r]=_<<8|_>>>24,v[r]=_,n?(n=m^t[t[t[g^m]]],i^=t[t[i]]):n=i=1}}();var m=[0,1,2,4,8,16,32,64,128,27,54],f=r.AES=n.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes/4,i=this._nRounds=n+6,r=4*(i+1),a=this._keySchedule=[],l=0;l<r;l++)if(l<n)a[l]=e[l];else{var s=a[l-1];l%n?n>6&&l%n==4&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=s<<8|s>>>24,s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=m[l/n|0]<<24),a[l]=a[l-n]^s}for(var u=this._invKeySchedule=[],c=0;c<r;c++){var l=r-c;if(c%4)var s=a[l];else var s=a[l-4];c<4||l<=4?u[c]=s:u[c]=d[o[s>>>24]]^p[o[s>>>16&255]]^h[o[s>>>8&255]]^v[o[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,l,s,u,c,o)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,d,p,h,v,a);var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,r,o,a,l){for(var s=this._nRounds,u=t[e]^n[0],c=t[e+1]^n[1],d=t[e+2]^n[2],p=t[e+3]^n[3],h=4,v=1;v<s;v++){var m=i[u>>>24]^r[c>>>16&255]^o[d>>>8&255]^a[255&p]^n[h++],f=i[c>>>24]^r[d>>>16&255]^o[p>>>8&255]^a[255&u]^n[h++],g=i[d>>>24]^r[p>>>16&255]^o[u>>>8&255]^a[255&c]^n[h++],_=i[p>>>24]^r[u>>>16&255]^o[c>>>8&255]^a[255&d]^n[h++];u=m,c=f,d=g,p=_}var m=(l[u>>>24]<<24|l[c>>>16&255]<<16|l[d>>>8&255]<<8|l[255&p])^n[h++],f=(l[c>>>24]<<24|l[d>>>16&255]<<16|l[p>>>8&255]<<8|l[255&u])^n[h++],g=(l[d>>>24]<<24|l[p>>>16&255]<<16|l[u>>>8&255]<<8|l[255&c])^n[h++],_=(l[p>>>24]<<24|l[u>>>16&255]<<16|l[c>>>8&255]<<8|l[255&d])^n[h++];t[e]=m,t[e+1]=f,t[e+2]=g,t[e+3]=_},keySize:8});t.AES=n._createHelper(f)}()},function(t,e,n){var i=n(49).CryptoJS,r={stringify:function(t){var e={ct:t.ciphertext.toString(i.enc.Base64)};return t.iv&&(e.iv=t.iv.toString()),t.salt&&(e.s=t.salt.toString()),JSON.stringify(e)},parse:function(t){var e=JSON.parse(t),n=i.lib.CipherParams.create({ciphertext:i.enc.Base64.parse(e.ct)});return e.iv&&(n.iv=i.enc.Hex.parse(e.iv)),e.s&&(n.salt=i.enc.Hex.parse(e.s)),n}};e.JsonFormatter=r},function(t,e,n){!function(){var e=n(57),i=n(58).utf8,r=n(59),o=n(58).bin,a=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?o.stringToBytes(t):i.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var l=e.bytesToWords(t),s=8*t.length,u=1732584193,c=-271733879,d=-1732584194,p=271733878,h=0;h<l.length;h++)l[h]=16711935&(l[h]<<8|l[h]>>>24)|4278255360&(l[h]<<24|l[h]>>>8);l[s>>>5]|=128<<s%32,l[(s+64>>>9<<4)+14]=s;for(var v=a._ff,m=a._gg,f=a._hh,g=a._ii,h=0;h<l.length;h+=16){var _=u,y=c,b=d,k=p;u=v(u,c,d,p,l[h+0],7,-680876936),p=v(p,u,c,d,l[h+1],12,-389564586),d=v(d,p,u,c,l[h+2],17,606105819),c=v(c,d,p,u,l[h+3],22,-1044525330),u=v(u,c,d,p,l[h+4],7,-176418897),p=v(p,u,c,d,l[h+5],12,1200080426),d=v(d,p,u,c,l[h+6],17,-1473231341),c=v(c,d,p,u,l[h+7],22,-45705983),u=v(u,c,d,p,l[h+8],7,1770035416),p=v(p,u,c,d,l[h+9],12,-1958414417),d=v(d,p,u,c,l[h+10],17,-42063),c=v(c,d,p,u,l[h+11],22,-1990404162),u=v(u,c,d,p,l[h+12],7,1804603682),p=v(p,u,c,d,l[h+13],12,-40341101),d=v(d,p,u,c,l[h+14],17,-1502002290),c=v(c,d,p,u,l[h+15],22,1236535329),u=m(u,c,d,p,l[h+1],5,-165796510),p=m(p,u,c,d,l[h+6],9,-1069501632),d=m(d,p,u,c,l[h+11],14,643717713),c=m(c,d,p,u,l[h+0],20,-373897302),u=m(u,c,d,p,l[h+5],5,-701558691),p=m(p,u,c,d,l[h+10],9,38016083),d=m(d,p,u,c,l[h+15],14,-660478335),c=m(c,d,p,u,l[h+4],20,-405537848),u=m(u,c,d,p,l[h+9],5,568446438),p=m(p,u,c,d,l[h+14],9,-1019803690),d=m(d,p,u,c,l[h+3],14,-187363961),c=m(c,d,p,u,l[h+8],20,1163531501),u=m(u,c,d,p,l[h+13],5,-1444681467),p=m(p,u,c,d,l[h+2],9,-51403784),d=m(d,p,u,c,l[h+7],14,1735328473),c=m(c,d,p,u,l[h+12],20,-1926607734),u=f(u,c,d,p,l[h+5],4,-378558),p=f(p,u,c,d,l[h+8],11,-2022574463),d=f(d,p,u,c,l[h+11],16,1839030562),c=f(c,d,p,u,l[h+14],23,-35309556),u=f(u,c,d,p,l[h+1],4,-1530992060),p=f(p,u,c,d,l[h+4],11,1272893353),d=f(d,p,u,c,l[h+7],16,-155497632),c=f(c,d,p,u,l[h+10],23,-1094730640),u=f(u,c,d,p,l[h+13],4,681279174),p=f(p,u,c,d,l[h+0],11,-358537222),d=f(d,p,u,c,l[h+3],16,-722521979),c=f(c,d,p,u,l[h+6],23,76029189),u=f(u,c,d,p,l[h+9],4,-640364487),p=f(p,u,c,d,l[h+12],11,-421815835),d=f(d,p,u,c,l[h+15],16,530742520),c=f(c,d,p,u,l[h+2],23,-995338651),u=g(u,c,d,p,l[h+0],6,-198630844),p=g(p,u,c,d,l[h+7],10,1126891415),d=g(d,p,u,c,l[h+14],15,-1416354905),c=g(c,d,p,u,l[h+5],21,-57434055),u=g(u,c,d,p,l[h+12],6,1700485571),p=g(p,u,c,d,l[h+3],10,-1894986606),d=g(d,p,u,c,l[h+10],15,-1051523),c=g(c,d,p,u,l[h+1],21,-2054922799),u=g(u,c,d,p,l[h+8],6,1873313359),p=g(p,u,c,d,l[h+15],10,-30611744),d=g(d,p,u,c,l[h+6],15,-1560198380),c=g(c,d,p,u,l[h+13],21,1309151649),u=g(u,c,d,p,l[h+4],6,-145523070),p=g(p,u,c,d,l[h+11],10,-1120210379),d=g(d,p,u,c,l[h+2],15,718787259),c=g(c,d,p,u,l[h+9],21,-343485551),u=u+_>>>0,c=c+y>>>0,d=d+b>>>0,p=p+k>>>0}return e.endian([u,c,d,p])};a._ff=function(t,e,n,i,r,o,a){var l=t+(e&n|~e&i)+(r>>>0)+a;return(l<<o|l>>>32-o)+e},a._gg=function(t,e,n,i,r,o,a){var l=t+(e&i|n&~i)+(r>>>0)+a;return(l<<o|l>>>32-o)+e},a._hh=function(t,e,n,i,r,o,a){var l=t+(e^n^i)+(r>>>0)+a;return(l<<o|l>>>32-o)+e},a._ii=function(t,e,n,i,r,o,a){var l=t+(n^(e|~i))+(r>>>0)+a;return(l<<o|l>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var i=e.wordsToBytes(a(t,n));return n&&n.asBytes?i:n&&n.asString?o.bytesToString(i):e.bytesToHex(i)}}()},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],i=0;i<t.length;i+=3)for(var r=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)8*i+6*o<=8*t.length?n.push(e.charAt(r>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,r=0;i<t.length;r=++i%4)0!=r&&n.push((e.indexOf(t.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|e.indexOf(t.charAt(i))>>>6-2*r);return n}};t.exports=n}()},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function i(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
t.exports=function(t){return null!=t&&(n(t)||i(t)||!!t._isBuffer)}},,,,,function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=localStorage.getItem("homehistory"),e=null;e="undefined"==typeof t?{}:JSON.parse(t);for(var n in _.data){var i=_.data[n].title;null!==e[i]&&(e[i]===!1?_.data[n].show=!1:e[i]===!0&&(_.data[n].show=!0))}}function a(){o();var t={title:"懒喵(github服务版)",bgimg:s.default.getInstance().picURL+"/icons/bg.jpg",rebootButtonTitle:"重载App",buttonTitle:"切换",searchButtonTitle:"全局搜",section:[]};for(var e in _.data){var n=_.data[e];if(n.show){var i=n.img;null==n.img.match(/^http/)&&(i=s.default.getInstance().picURL+n.img),t.section.push({data:e,img:i,width:400,height:240,title:n.title,subtitle:n.subtitle})}}c.renderEjsTemplate(f.default,t,function(t){y=t,t.addEventListener("select",function(t){var e=t.target,n=e.getAttribute("index"),i=e.getAttribute("data");if(n)if("showhide"==n)showHide();else if("search"==n);else if("reboot"==n)App.reload({time:"now"});else{parseInt(i);_.data[i].function()}}),navigationDocument.replaceDocument(t,getActiveDocument())})}Object.defineProperty(e,"__esModule",{value:!0}),e.showHomePage=a;var l=n(2),s=r(l),u=n(1),c=i(u),d=(n(33),n(34)),p=n(36),h=n(13),v=n(43),m=n(65),f=r(m);e.default=a;var g=0,_={data:[{title:"youku",subtitle:"",show:!0,index:g++,img:"/icons/youku.png",function:d.showYKHome},{title:"NetEaseMusic",subtitle:"",show:!0,index:g++,img:"/icons/netease_music.png",function:v.showMusic163Home},{title:"芒果TV",subtitle:"",show:!0,index:g++,img:"/icons/mgtv.png",function:h.showMGTVHome},{title:"lava",subtitle:"",show:!0,index:g++,img:"/icons/lava.png",function:p.showLavaHome},{title:"抱歉该版本已停止维护",subtitle:"完整版请入群免费安装最新TestFlight版本",show:!0,index:g++,img:"/icons/qq_qrcode.png",function:null}]},y=void 0},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<?xml version="1.0" encoding="UTF-8"?>\n<!--\nCopyright (C) 2016 fuzhuo233@gmail.com\n-->\n<document>\n    <stackTemplate theme="light">\n        <background>\n            <img src="'+(null==(__t=bgimg)?"":__t)+'"/>\n        </background>\n        <identityBanner>\n            <banner>\n                <title>'+(null==(__t=title)?"":__t)+"</title>\n            </banner>\n        </identityBanner>\n        <collectionList>\n            <grid>\n                <section>\n                    ";for(var i in section){var item=section[i];__p+='\n                    <lockup index="'+(null==(__t=i)?"":__t)+'" data="'+(null==(__t=item.data)?"":__t)+'">\n                        <img src="'+(null==(__t=item.img)?"":__t)+'" width="'+(null==(__t=item.width)?"":__t)+'" height="'+(null==(__t=item.height)?"":__t)+'" />\n                        <title>'+(null==(__t=item.title)?"":__t)+"</title>\n                        ",item.subtitle&&(__p+="\n                        <subtitle>"+(null==(__t=item.subtitle)?"":__t)+"</subtitle>\n                        "),__p+="\n                    </lockup>\n                    "}__p+="\n                </section>\n            </grid>\n        </collectionList>\n    </stackTemplate>\n</document>\n"}return __p}}]);